(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8687],{60972:function(e){"use strict";let t=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);e.exports=e=>!t.has(e&&e.code)},47888:function(e,t,n){var r,i=n(25566);!function(s){var o=Object.hasOwnProperty,a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},l="object"==typeof i&&"function"==typeof i.nextTick,c="function"==typeof Symbol,u="object"==typeof Reflect,h="function"==typeof setImmediate?setImmediate:setTimeout,f=c?u&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function d(){this._events={},this._conf&&p.call(this,this._conf)}function p(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),s!==e.maxListeners&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function m(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==i&&i.emitWarning){var r=Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,i.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var g=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=Array(r);r--;)i[r]=arguments[r];return i}};function y(e,t){for(var n={},r=e.length,i=t?t.length:0,o=0;o<r;o++)n[e[o]]=o<i?t[o]:s;return n}function v(e,t,n){if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,i=n.off),t.addEventListener?(r=t.addEventListener,i=t.removeEventListener):t.addListener?(r=t.addListener,i=t.removeListener):t.on&&(r=t.on,i=t.off),!r&&!i)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=r,this._off=i;var r,i,s=e._observers;s?s.push(this):e._observers=[this]}function b(e,t,n,r){var i,a,l,c=Object.assign({},t);if(!e)return c;if("object"!=typeof e)throw TypeError("options must be an object");var u=Object.keys(e),h=u.length;function f(e){throw Error('Invalid "'+i+'" option value'+(e?". Reason: "+e:""))}for(var d=0;d<h;d++){if(i=u[d],!r&&!o.call(t,i))throw Error('Unknown "'+i+'" option');s!==(a=e[i])&&(l=n[i],c[i]=l?l(a,f):a)}return c}function w(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function E(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var s=typeof e;if(s===r||s===i)return e;n(t)}:function(r,i){for(var s=typeof r,o=n;o-- >0;)if(s===e[o])return r;i(t)}}Object.assign(v.prototype,{subscribe:function(e,t,n){var r=this,i=this._target,s=this._emitter,o=this._listeners,a=function(){var r=g.apply(null,arguments),o={data:r,name:t,original:e};if(n){!1!==n.call(i,o)&&s.emit.apply(s,[o.name].concat(r));return}s.emit.apply(s,[t].concat(r))};if(o[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,s._newListener&&s._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===o[e]&&(o[e]=a,r._on.call(i,e,a))},s.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!s.hasListeners(n)&&o[e]&&(o[e]=null,r._off.call(i,e,a))},o[e]=null,s.on("removeListener",this._onRemoveListener)):(o[e]=a,r._on.call(i,e,a))},unsubscribe:function(e){var t,n,r,i=this,s=this._listeners,o=this._emitter,a=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){i._onNewListener&&(o.off("newListener",i._onNewListener),o.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=R.call(o,i);o._observers.splice(e,1)}if(e){if(!(t=s[e]))return;a.call(l,e,t),delete s[e],--this._listenersCount||c()}else{for(r=(n=f(s)).length;r-- >0;)e=n[r],a.call(l,e,s[e]);this._listeners={},this._listenersCount=0,c()}}});var _=E(["function"]),k=E(["object","function"]);function T(e,t,n){var r,i,s,o=0,a=new e(function(l,c,u){function h(){i&&(i=null),o&&(clearTimeout(o),o=0)}r=!(n=b(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}})).overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var f=function(e){h(),l(e)},d=function(e){h(),c(e)};r?t(f,d,u):(i=[function(e){d(e||Error("canceled"))}],t(f,d,function(e){if(s)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)}),s=!0),n.timeout>0&&(o=setTimeout(function(){var e=Error("timeout");e.code="ETIMEDOUT",o=0,a.cancel(e),c(e)},n.timeout))});return r||(a.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),a}function R(e){var t=this._observers;if(!t)return -1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return -1}function C(e,t,n,r,i){if(!n)return null;if(0===r){var s=typeof t;if("string"===s){var o,a,l=0,c=0,u=this.delimiter,h=u.length;if(-1!==(a=t.indexOf(u))){o=[,,,,,];do o[l++]=t.slice(c,a),c=a+h;while(-1!==(a=t.indexOf(u,c)));o[l++]=t.slice(c),t=o,i=l}else t=[t],i=1}else"object"===s?i=t.length:(t=[t],i=1)}var d,p,m,g,y,v,b,w=null,E=t[r],_=t[r+1];if(r===i)n._listeners&&("function"==typeof n._listeners?e&&e.push(n._listeners):e&&e.push.apply(e,n._listeners),w=[n]);else{if("*"===E){for(a=(v=f(n)).length;a-- >0;)"_listeners"!==(d=v[a])&&(b=C(e,t,n[d],r+1,i))&&(w?w.push.apply(w,b):w=b);return w}if("**"===E){for((y=r+1===i||r+2===i&&"*"===_)&&n._listeners&&(w=C(e,t,n,i,i)),a=(v=f(n)).length;a-- >0;)"_listeners"!==(d=v[a])&&("*"===d||"**"===d?(n[d]._listeners&&!y&&(b=C(e,t,n[d],i,i))&&(w?w.push.apply(w,b):w=b),b=C(e,t,n[d],r,i)):b=d===_?C(e,t,n[d],r+2,i):C(e,t,n[d],r,i),b&&(w?w.push.apply(w,b):w=b));return w}n[E]&&(w=C(e,t,n[E],r+1,i))}if((p=n["*"])&&C(e,t,p,r+1,i),m=n["**"]){if(r<i)for(m._listeners&&C(e,t,m,i,i),a=(v=f(m)).length;a-- >0;)"_listeners"!==(d=v[a])&&(d===_?C(e,t,m[d],r+2,i):d===E?C(e,t,m[d],r+1,i):((g={})[d]=m[d],C(e,t,{"**":g},r+1,i)));else m._listeners?C(e,t,m,i,i):m["*"]&&m["*"]._listeners&&C(e,t,m["*"],i,i)}return w}function O(e,t,n){var r,i,s=0,o=0,a=this.delimiter,l=a.length;if("string"==typeof e){if(-1!==(r=e.indexOf(a))){i=[,,,,,];do i[s++]=e.slice(o,r),o=r+l;while(-1!==(r=e.indexOf(a,o)));i[s++]=e.slice(o)}else i=[e],s=1}else i=e,s=e.length;if(s>1){for(r=0;r+1<s;r++)if("**"===i[r]&&"**"===i[r+1])return}var c,u=this.listenerTree;for(r=0;r<s;r++)if(u=u[c=i[r]]||(u[c]={}),r===s-1){u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,m.call(this,u._listeners.length,c))):u._listeners=t;break}return!0}function S(e,t,n,r){for(var i,s,o,a,l=f(e),c=l.length,u=e._listeners;c-- >0;)i=e[s=l[c]],o="_listeners"===s?n:n?n.concat(s):[s],a=r||"symbol"==typeof s,u&&t.push(a?o:o.join(this.delimiter)),"object"==typeof i&&S.call(this,i,t,o,a);return t}function L(e){for(var t,n,r,i=f(e),s=i.length;s-- >0;)(t=e[n=i[s]])&&(r=!0,"_listeners"===n||L(t)||delete e[n]);return r}function A(e,t,n){this.emitter=e,this.event=t,this.listener=n}function x(e,t,n){if(!0===n)o=!0;else if(!1===n)r=!0;else{if(!n||"object"!=typeof n)throw TypeError("options should be an object or true");var r=n.async,o=n.promisify,a=n.nextTick,c=n.objectify}if(r||a||o){var u=t,f=t._origin||t;if(a&&!l)throw Error("process.nextTick is not supported");s===o&&(o="AsyncFunction"===t.constructor.name),(t=function(){var e=arguments,t=this,n=this.event;return o?a?Promise.resolve():new Promise(function(e){h(e)}).then(function(){return t.event=n,u.apply(t,e)}):(a?i.nextTick:h)(function(){t.event=n,u.apply(t,e)})})._async=!0,t._origin=f}return[t,c?new A(this,e,t):this]}function j(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,p.call(this,e)}A.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},j.EventEmitter2=j,j.prototype.listenTo=function(e,t,n){if("object"!=typeof e)throw TypeError("target musts be an object");var r=this;return n=b(n,{on:s,off:s,reducers:s},{on:_,off:_,reducers:k}),function(t){if("object"!=typeof t)throw TypeError("events must be an object");var i,s,o=n.reducers,a=R.call(r,e);i=-1===a?new v(r,e,n):r._observers[a];for(var l=f(t),c=l.length,u="function"==typeof o,h=0;h<c;h++)s=l[h],i.subscribe(s,t[s]||s,u?o:o&&o[s])}(a(t)?y(t):"string"==typeof t?y(t.split(/\s+/)):t),this},j.prototype.stopListeningTo=function(e,t){var n,r=this._observers;if(!r)return!1;var i=r.length,s=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)n=r[i],e&&n._target!==e||(n.unsubscribe(t),s=!0);return s},j.prototype.delimiter=".",j.prototype.setMaxListeners=function(e){s!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},j.prototype.getMaxListeners=function(){return this._maxListeners},j.prototype.event="",j.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},j.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},j.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},j.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},j.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},j.prototype._many=function(e,t,n,r,i){var s=this;if("function"!=typeof n)throw Error("many only accepts instances of Function");function o(){return 0==--t&&s.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,r,i)},j.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var e,t,n,r,i,s,o,a=arguments[0],l=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return!1;if(l&&(o=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(t=a.length,c){for(n=0;n<t;n++)if("symbol"==typeof a[n]){i=!0;break}}i||(a=a.join(this.delimiter))}var u=arguments.length;if(this._all&&this._all.length)for(n=0,t=(s=this._all.slice()).length;n<t;n++)switch(this.event=a,u){case 1:s[n].call(this,a);break;case 2:s[n].call(this,a,arguments[1]);break;case 3:s[n].call(this,a,arguments[1],arguments[2]);break;default:s[n].apply(this,arguments)}if(l)s=[],C.call(this,s,o,this.listenerTree,0,t);else{if("function"==typeof(s=this._events[a])){switch(this.event=a,u){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(r=1,e=Array(u-1);r<u;r++)e[r-1]=arguments[r];s.apply(this,e)}return!0}s&&(s=s.slice())}if(s&&s.length){if(u>3)for(r=1,e=Array(u-1);r<u;r++)e[r-1]=arguments[r];for(n=0,t=s.length;n<t;n++)switch(this.event=a,u){case 1:s[n].call(this);break;case 2:s[n].call(this,arguments[1]);break;case 3:s[n].call(this,arguments[1],arguments[2]);break;default:s[n].apply(this,e)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===a){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.")}return!!this._all},j.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var e,t,n,r,i,s,o,a=arguments[0],l=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(l&&(s=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(t=a.length,c){for(n=0;n<t;n++)if("symbol"==typeof a[n]){o=!0;break}}o||(a=a.join(this.delimiter))}var u=[],h=arguments.length;if(this._all)for(n=0,t=this._all.length;n<t;n++)switch(this.event=a,h){case 1:u.push(this._all[n].call(this,a));break;case 2:u.push(this._all[n].call(this,a,arguments[1]));break;case 3:u.push(this._all[n].call(this,a,arguments[1],arguments[2]));break;default:u.push(this._all[n].apply(this,arguments))}if(l?(i=[],C.call(this,i,s,this.listenerTree,0)):i=this._events[a],"function"==typeof i)switch(this.event=a,h){case 1:u.push(i.call(this));break;case 2:u.push(i.call(this,arguments[1]));break;case 3:u.push(i.call(this,arguments[1],arguments[2]));break;default:for(r=1,e=Array(h-1);r<h;r++)e[r-1]=arguments[r];u.push(i.apply(this,e))}else if(i&&i.length){if(i=i.slice(),h>3)for(r=1,e=Array(h-1);r<h;r++)e[r-1]=arguments[r];for(n=0,t=i.length;n<t;n++)switch(this.event=a,h){case 1:u.push(i[n].call(this));break;case 2:u.push(i[n].call(this,arguments[1]));break;case 3:u.push(i[n].call(this,arguments[1],arguments[2]));break;default:u.push(i[n].apply(this,e))}}else if(!this.ignoreErrors&&!this._all&&"error"===a)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},j.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},j.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},j.prototype.onAny=function(e){return this._onAny(e,!1)},j.prototype.prependAny=function(e){return this._onAny(e,!0)},j.prototype.addListener=j.prototype.on,j.prototype._onAny=function(e,t){if("function"!=typeof e)throw Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},j.prototype._on=function(e,t,n,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw Error("on only accepts instances of Function");this._events||d.call(this);var i,o=this;return(s!==r&&(t=(i=x.call(this,e,t,r))[0],o=i[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard)?O.call(this,e,t,n):this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,m.call(this,this._events[e].length,e))):this._events[e]=t,o},j.prototype.off=function(e,t){if("function"!=typeof t)throw Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=C.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var s=0;s<r.length;s++){var o=r[s];if(a(n=o._listeners)){for(var l=-1,c=0,u=n.length;c<u;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){l=c;break}if(l<0)continue;return this.wildcard?o._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete o._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete o._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&L(this.listenerTree),this},j.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n]){t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e);break}}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},j.prototype.removeListener=j.prototype.off,j.prototype.removeAllListeners=function(e){if(s===e)return this._events&&d.call(this),this;if(this.wildcard){var t,n=C.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&L(this.listenerTree)}else this._events&&(this._events[e]=null);return this},j.prototype.listeners=function(e){var t,n,r,i,o,a=this._events;if(s===e){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!a)return[];for(i=(t=f(a)).length,r=[];i-- >0;)"function"==typeof(n=a[t[i]])?r.push(n):r.push.apply(r,n);return r}if(this.wildcard){if(!(o=this.listenerTree))return[];var l=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return C.call(this,l,c,o,0),l}return a&&(n=a[e])?"function"==typeof n?[n]:n:[]},j.prototype.eventNames=function(e){var t=this._events;return this.wildcard?S.call(this,this.listenerTree,[],null,e):t?f(t):[]},j.prototype.listenerCount=function(e){return this.listeners(e).length},j.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return C.call(this,t,n,this.listenerTree,0),t.length>0}var r=this._events,i=this._all;return!!(i&&i.length||r&&(s===e?f(r).length:r[e]))},j.prototype.listenersAny=function(){return this._all?this._all:[]},j.prototype.waitFor=function(e,t){var n=this,r=typeof t;return"number"===r?t={timeout:t}:"function"===r&&(t={filter:t}),T((t=b(t,{timeout:0,filter:s,handleError:!1,Promise:Promise,overload:!1},{filter:_,Promise:w})).Promise,function(r,i,s){function o(){var s=t.filter;if(!s||s.apply(n,arguments)){if(n.off(e,o),t.handleError){var a=arguments[0];a?i(a):r(g.apply(null,arguments).slice(1))}else r(g.apply(null,arguments))}}s(function(){n.off(e,o)}),n._on(e,o,!1)},{timeout:t.timeout,overload:t.overload})};var N=j.prototype;Object.defineProperties(j,{defaultMaxListeners:{get:function(){return N._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");N._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return T((n=b(n,{Promise:Promise,timeout:0,overload:!1},{Promise:w})).Promise,function(n,r,i){if("function"==typeof e.addEventListener){s=function(){n(g.apply(null,arguments))},i(function(){e.removeEventListener(t,s)}),e.addEventListener(t,s,{once:!0});return}var s,o,a=function(){o&&e.removeListener("error",o),n(g.apply(null,arguments))};"error"!==t&&(o=function(n){e.removeListener(t,a),r(n)},e.once("error",o)),i(function(){o&&e.removeListener("error",o),e.removeListener(t,a)}),e.once(t,a)},{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(N,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),s!==(r=(function(){return j}).call(t,n,t,e))&&(e.exports=r)}()},2151:function(e,t,n){var r=0/0,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,h=c||u||Function("return this")(),f=Object.prototype.toString,d=Math.max,p=Math.min,m=function(){return h.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==f.call(t))return r;if(g(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var c=o.test(e);return c||a.test(e)?l(e.slice(2),c?2:8):s.test(e)?r:+e}e.exports=function(e,t,n){var r,i,s,o,a,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function b(e){var n=e-l,r=e-c;return void 0===l||n>=t||n<0||h&&r>=s}function w(){var e,n,r,i=m();if(b(i))return E(i);a=setTimeout(w,(e=i-l,n=i-c,r=t-e,h?p(r,s-n):r))}function E(e){return(a=void 0,f&&r)?v(e):(r=i=void 0,o)}function _(){var e,n=m(),s=b(n);if(r=arguments,i=this,l=n,s){if(void 0===a)return c=e=l,a=setTimeout(w,t),u?v(e):o;if(h)return a=setTimeout(w,t),v(l)}return void 0===a&&(a=setTimeout(w,t)),o}return t=y(t)||0,g(n)&&(u=!!n.leading,s=(h="maxWait"in n)?d(y(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},_.flush=function(){return void 0===a?o:E(m())},_}},20450:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,s){try{return function e(s,o){if(s===o)return!0;if(s&&o&&"object"==typeof s&&"object"==typeof o){var a,l,c,u;if(s.constructor!==o.constructor)return!1;if(Array.isArray(s)){if((a=s.length)!=o.length)return!1;for(l=a;0!=l--;)if(!e(s[l],o[l]))return!1;return!0}if(n&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=s.entries();!(l=u.next()).done;)if(!e(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if((a=s.length)!=o.length)return!1;for(l=a;0!=l--;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&"function"==typeof s.valueOf&&"function"==typeof o.valueOf)return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&"function"==typeof s.toString&&"function"==typeof o.toString)return s.toString()===o.toString();if((a=(c=Object.keys(s)).length)!==Object.keys(o).length)return!1;for(l=a;0!=l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&s instanceof Element)return!1;for(l=a;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!s.$$typeof)&&!e(s[c[l]],o[c[l]]))return!1;return!0}return s!=s&&o!=o}(e,s)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},34492:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,o=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},10554:function(e,t,n){"use strict";e.exports=n(34492)},54153:function(e,t,n){"use strict";let r,i,s,o,a;n.d(t,{Ie:function(){return h},ZP:function(){return nw}});var l,c={};n.r(c),n.d(c,{hasBrowserEnv:function(){return eC},hasStandardBrowserEnv:function(){return eO},hasStandardBrowserWebWorkerEnv:function(){return eS},origin:function(){return eL}});var u=n(47888),h=((r=h||{}).loading="loading",r.fetchMore="fetchMore",r.ready="ready",r.error="error",r);let f={shouldSetPage:!0,shouldAppend:!1},d={items:[],metadata:{total_count:0,unread_count:0,unseen_count:0},pageInfo:{before:null,after:null,page_size:50}};var p=Object.defineProperty,m=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t,n)=>(m(e,"symbol"!=typeof t?t+"":t,n),n);let y={archived:"exclude"};class v{constructor(e,t,n){g(this,"userFeedId"),g(this,"channel"),g(this,"broadcaster"),g(this,"defaultOptions"),g(this,"broadcastChannel"),g(this,"disconnectTimer",null),g(this,"hasSubscribedToRealTimeUpdates",!1),g(this,"visibilityChangeHandler",()=>{}),g(this,"visibilityChangeListenerConnected",!1),g(this,"store"),this.knock=e,this.feedId=t,this.feedId=t,this.userFeedId=this.buildUserFeedId(),this.store=function(e){let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s=(e,r=i,s=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function a(){let n=r(t);if(!s(o,n)){let t=o;e(o=n,t)}}return n.add(a),()=>n.delete(a)},o={setState:r,getState:i,subscribe:(e,t,r)=>t||r?s(e,t,r):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}(e=>({...d,networkStatus:h.ready,loading:!1,setNetworkStatus:t=>e(()=>({networkStatus:t,loading:t===h.loading})),setResult:({entries:t,meta:n,page_info:r},i=f)=>e(e=>({items:i.shouldAppend?(function(e){let t={};return e.reduce((e,n)=>t[n.id]?e:(t[n.id]=!0,[...e,n]),[])})(e.items.concat(t)).sort((e,t)=>new Date(t.inserted_at).getTime()-new Date(e.inserted_at).getTime()):t,metadata:n,pageInfo:i.shouldSetPage?r:e.pageInfo,loading:!1,networkStatus:h.ready})),setMetadata:t=>e(()=>({metadata:t})),resetStore:(t=d.metadata)=>e(()=>({...d,metadata:t})),setItemAttrs:(t,n)=>{let r=t.reduce((e,t)=>({...e,[t]:n}),{});return e(e=>({items:e.items.map(e=>r[e.id]?{...e,...r[e.id]}:e)}))}})),this.broadcaster=new u({wildcard:!0,delimiter:"."}),this.defaultOptions={...y,...n},this.knock.log(`[Feed] Initialized a feed on channel ${t}`),this.initializeRealtimeConnection(),this.setupBroadcastChannel()}reinitialize(){this.userFeedId=this.buildUserFeedId(),this.initializeRealtimeConnection(),this.setupBroadcastChannel()}teardown(){this.knock.log("[Feed] Tearing down feed instance"),this.channel&&(this.channel.leave(),this.channel.off("new-message")),this.teardownAutoSocketManager(),this.disconnectTimer&&(clearTimeout(this.disconnectTimer),this.disconnectTimer=null),this.broadcastChannel&&this.broadcastChannel.close()}dispose(){this.knock.log("[Feed] Disposing of feed instance"),this.teardown(),this.broadcaster.removeAllListeners(),this.knock.feeds.removeInstance(this)}listenForUpdates(){this.knock.log("[Feed] Connecting to real-time service"),this.hasSubscribedToRealTimeUpdates=!0;let e=this.knock.client().socket;e&&!e.isConnected()&&e.connect(),this.channel&&["closed","errored"].includes(this.channel.state)&&this.channel.join()}on(e,t){this.broadcaster.on(e,t)}off(e,t){this.broadcaster.off(e,t)}getState(){return this.store.getState()}async markAsSeen(e){let t=new Date().toISOString();return this.optimisticallyPerformStatusUpdate(e,"seen",{seen_at:t},"unseen_count"),this.makeStatusUpdate(e,"seen")}async markAllAsSeen(){let{metadata:e,items:t,...n}=this.store.getState();if("unseen"===this.defaultOptions.status)n.resetStore({...e,total_count:0,unseen_count:0});else{n.setMetadata({...e,unseen_count:0});let r={seen_at:new Date().toISOString()},i=t.map(e=>e.id);n.setItemAttrs(i,r)}let r=await this.makeBulkStatusUpdate("seen");return this.emitEvent("all_seen",t),r}async markAsUnseen(e){return this.optimisticallyPerformStatusUpdate(e,"unseen",{seen_at:null},"unseen_count"),this.makeStatusUpdate(e,"unseen")}async markAsRead(e){let t=new Date().toISOString();return this.optimisticallyPerformStatusUpdate(e,"read",{read_at:t},"unread_count"),this.makeStatusUpdate(e,"read")}async markAllAsRead(){let{metadata:e,items:t,...n}=this.store.getState();if("unread"===this.defaultOptions.status)n.resetStore({...e,total_count:0,unread_count:0});else{n.setMetadata({...e,unread_count:0});let r={read_at:new Date().toISOString()},i=t.map(e=>e.id);n.setItemAttrs(i,r)}let r=await this.makeBulkStatusUpdate("read");return this.emitEvent("all_read",t),r}async markAsUnread(e){return this.optimisticallyPerformStatusUpdate(e,"unread",{read_at:null},"unread_count"),this.makeStatusUpdate(e,"unread")}async markAsInteracted(e){let t=new Date().toISOString();return this.optimisticallyPerformStatusUpdate(e,"interacted",{read_at:t,interacted_at:t},"unread_count"),this.makeStatusUpdate(e,"interacted")}async markAsArchived(e){let t=this.store.getState(),n="exclude"===this.defaultOptions.archived,r=Array.isArray(e)?e:[e],i=r.map(e=>e.id);if(n){let e=r.filter(e=>!e.seen_at).length,n=r.filter(e=>!e.read_at).length,s={...t.metadata,total_count:t.metadata.total_count-r.length,unseen_count:t.metadata.unseen_count-e,unread_count:t.metadata.unread_count-n},o=t.items.filter(e=>!i.includes(e.id));t.setResult({entries:o,meta:s,page_info:t.pageInfo})}else t.setItemAttrs(i,{archived_at:new Date().toISOString()});return this.makeStatusUpdate(e,"archived")}async markAllAsArchived(){let{items:e,...t}=this.store.getState();if("exclude"===this.defaultOptions.archived)t.resetStore();else{let n=e.map(e=>e.id);t.setItemAttrs(n,{archived_at:new Date().toISOString()})}let n=await this.makeBulkStatusUpdate("archive");return this.emitEvent("all_archived",e),n}async markAsUnarchived(e){return this.optimisticallyPerformStatusUpdate(e,"unarchived",{archived_at:null}),this.makeStatusUpdate(e,"unarchived")}async fetch(e={}){let{networkStatus:t,...n}=this.store.getState();if(["loading","fetchMore"].includes(t))return;n.setNetworkStatus(e.__loadingType??h.loading);let r={...this.defaultOptions,...e,__loadingType:void 0,__fetchSource:void 0,__experimentalCrossBrowserUpdates:void 0,auto_manage_socket_connection:void 0,auto_manage_socket_connection_delay:void 0},i=await this.knock.client().makeRequest({method:"GET",url:`/v1/users/${this.knock.userId}/feeds/${this.feedId}`,params:r});if("error"===i.statusCode||!i.body)return n.setNetworkStatus(h.error),{status:i.statusCode,data:i.error||i.body};let s={entries:i.body.entries,meta:i.body.meta,page_info:i.body.page_info};e.before?n.setResult(s,{shouldSetPage:!1,shouldAppend:!0}):e.after?n.setResult(s,{shouldSetPage:!0,shouldAppend:!0}):n.setResult(s),this.broadcast("messages.new",s);let o="socket"===e.__fetchSource?"items.received.realtime":"items.received.page",a={items:s.entries,metadata:s.meta,event:o};return this.broadcast(a.event,a),{data:s,status:i.statusCode}}async fetchNextPage(){let{pageInfo:e}=this.store.getState();e.after&&this.fetch({after:e.after,__loadingType:h.fetchMore})}broadcast(e,t){this.broadcaster.emit(e,t)}async onNewMessageReceived({metadata:e}){this.knock.log("[Feed] Received new real-time message");let{items:t,...n}=this.store.getState(),r=t[0];n.setMetadata(e),this.fetch({before:null==r?void 0:r.__cursor,__fetchSource:"socket"})}buildUserFeedId(){return`${this.feedId}:${this.knock.userId}`}optimisticallyPerformStatusUpdate(e,t,n,r){let i=this.store.getState(),s=Array.isArray(e)?e:[e],o=s.map(e=>e.id);if(r){let{metadata:e}=i,n=s.filter(e=>{switch(t){case"seen":return null===e.seen_at;case"unseen":return null!==e.seen_at;case"read":case"interacted":return null===e.read_at;case"unread":return null!==e.read_at;default:return!0}}),o=t.startsWith("un")?n.length:-n.length;i.setMetadata({...e,[r]:Math.max(0,e[r]+o)})}i.setItemAttrs(o,n)}async makeStatusUpdate(e,t){let n=Array.isArray(e)?e:[e],r=n.map(e=>e.id),i=await this.knock.messages.batchUpdateStatuses(r,t);return this.emitEvent(t,n),i}async makeBulkStatusUpdate(e){let t={user_ids:[this.knock.userId],engagement_status:"all"!==this.defaultOptions.status?this.defaultOptions.status:void 0,archived:this.defaultOptions.archived,has_tenant:this.defaultOptions.has_tenant,tenants:this.defaultOptions.tenant?[this.defaultOptions.tenant]:void 0};return await this.knock.messages.bulkUpdateAllStatusesInChannel({channelId:this.feedId,status:e,options:t})}setupBroadcastChannel(){this.broadcastChannel="u">typeof self&&"BroadcastChannel"in self?new BroadcastChannel(`knock:feed:${this.userFeedId}`):null,this.broadcastChannel&&!0===this.defaultOptions.__experimentalCrossBrowserUpdates&&(this.broadcastChannel.onmessage=e=>{switch(e.data.type){case"items:archived":case"items:unarchived":case"items:seen":case"items:unseen":case"items:read":case"items:unread":case"items:all_read":case"items:all_seen":case"items:all_archived":return this.fetch();default:return null}})}broadcastOverChannel(e,t){if(this.broadcastChannel)try{let n=JSON.parse(JSON.stringify(t));this.broadcastChannel.postMessage({type:e,payload:n})}catch(t){console.warn(`Could not broadcast ${e}, got error: ${t}`)}}initializeRealtimeConnection(){let{socket:e}=this.knock.client();e&&(this.channel=e.channel(`feeds:${this.userFeedId}`,this.defaultOptions),this.channel.on("new-message",e=>this.onNewMessageReceived(e)),this.defaultOptions.auto_manage_socket_connection&&this.setupAutoSocketManager(),this.hasSubscribedToRealTimeUpdates&&(e.isConnected()||e.connect(),this.channel.join()))}setupAutoSocketManager(){typeof document>"u"||this.visibilityChangeListenerConnected||(this.visibilityChangeHandler=this.handleVisibilityChange.bind(this),this.visibilityChangeListenerConnected=!0,document.addEventListener("visibilitychange",this.visibilityChangeHandler))}teardownAutoSocketManager(){typeof document>"u"||(document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.visibilityChangeListenerConnected=!1)}emitEvent(e,t){this.broadcaster.emit(`items.${e}`,{items:t}),this.broadcaster.emit(`items:${e}`,{items:t}),this.broadcastOverChannel(`items:${e}`,{items:t})}handleVisibilityChange(){var e;let t=this.defaultOptions.auto_manage_socket_connection_delay??2e3,n=this.knock.client();"hidden"===document.visibilityState?this.disconnectTimer=setTimeout(()=>{var e;null==(e=n.socket)||e.disconnect(),this.disconnectTimer=null},t):"visible"===document.visibilityState&&(this.disconnectTimer&&(clearTimeout(this.disconnectTimer),this.disconnectTimer=null),null!=(e=n.socket)&&e.isConnected()||this.initializeRealtimeConnection())}}var b=Object.defineProperty,w=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t,n)=>(w(e,"symbol"!=typeof t?t+"":t,n),n);class _{constructor(e){E(this,"instance"),E(this,"feedInstances",[]),this.instance=e}initialize(e,t={}){let n=new v(this.instance,e,t);return this.feedInstances.push(n),n}removeInstance(e){this.feedInstances=this.feedInstances.filter(t=>t!==e)}teardownInstances(){for(let e of this.feedInstances)e.teardown()}reinitializeInstances(){for(let e of this.feedInstances)e.reinitialize()}}class k extends Error{}function T(e,t){return function(){return e.apply(t,arguments)}}k.prototype.name="InvalidTokenError";let{toString:R}=Object.prototype,{getPrototypeOf:C}=Object,O=(i=Object.create(null),e=>{let t=R.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())}),S=e=>(e=e.toLowerCase(),t=>O(t)===e),L=e=>t=>typeof t===e,{isArray:A}=Array,x=L("undefined"),j=S("ArrayBuffer"),N=L("string"),P=L("function"),D=L("number"),I=e=>null!==e&&"object"==typeof e,U=e=>{if("object"!==O(e))return!1;let t=C(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},M=S("Date"),F=S("File"),B=S("Blob"),$=S("FileList"),q=S("URLSearchParams"),[H,V,W,z]=["ReadableStream","Request","Response","Headers"].map(S);function K(e,t,{allOwnKeys:n=!1}={}){let r,i;if(null!=e){if("object"!=typeof e&&(e=[e]),A(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{let i;let s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;for(r=0;r<o;r++)i=s[r],t.call(null,e[i],i,e)}}}function G(e,t){let n;t=t.toLowerCase();let r=Object.keys(e),i=r.length;for(;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}let J="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Y=e=>!x(e)&&e!==J,X=(s="undefined"!=typeof Uint8Array&&C(Uint8Array),e=>s&&e instanceof s),Z=S("HTMLFormElement"),Q=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ee=S("RegExp"),et=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};K(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)}),Object.defineProperties(e,r)},en="abcdefghijklmnopqrstuvwxyz",er="0123456789",ei={DIGIT:er,ALPHA:en,ALPHA_DIGIT:en+en.toUpperCase()+er},es=S("AsyncFunction");var eo={isArray:A,isArrayBuffer:j,isBuffer:function(e){return null!==e&&!x(e)&&null!==e.constructor&&!x(e.constructor)&&P(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||P(e.append)&&("formdata"===(t=O(e))||"object"===t&&P(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&j(e.buffer)},isString:N,isNumber:D,isBoolean:e=>!0===e||!1===e,isObject:I,isPlainObject:U,isReadableStream:H,isRequest:V,isResponse:W,isHeaders:z,isUndefined:x,isDate:M,isFile:F,isBlob:B,isRegExp:ee,isFunction:P,isStream:e=>I(e)&&P(e.pipe),isURLSearchParams:q,isTypedArray:X,isFileList:$,forEach:K,merge:function e(){let{caseless:t}=Y(this)&&this||{},n={},r=(r,i)=>{let s=t&&G(n,i)||i;U(n[s])&&U(r)?n[s]=e(n[s],r):U(r)?n[s]=e({},r):A(r)?n[s]=r.slice():n[s]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&K(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(K(t,(t,r)=>{n&&P(t)?e[r]=T(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;let a={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==n&&C(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:O,kindOfTest:S,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return -1!==r&&r===n},toArray:e=>{if(!e)return null;if(A(e))return e;let t=e.length;if(!D(t))return null;let n=Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{let n;let r=(e&&e[Symbol.iterator]).call(e);for(;(n=r.next())&&!n.done;){let r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let n;let r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Z,hasOwnProperty:Q,hasOwnProp:Q,reduceDescriptors:et,freezeMethods:e=>{et(e,(t,n)=>{if(P(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;if(P(e[n])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{let n={};return(e=>{e.forEach(e=>{n[e]=!0})})(A(e)?e:String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:G,global:J,isContextDefined:Y,ALPHABET:ei,generateString:(e=16,t=ei.ALPHA_DIGIT)=>{let n="",{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&P(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),n=(e,r)=>{if(I(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;let i=A(e)?[]:{};return K(e,(e,t)=>{let s=n(e,r+1);x(s)||(i[t]=s)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:es,isThenable:e=>e&&(I(e)||P(e))&&P(e.then)&&P(e.catch)};function ea(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}eo.inherits(ea,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:eo.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let el=ea.prototype,ec={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ec[e]={value:e}}),Object.defineProperties(ea,ec),Object.defineProperty(el,"isAxiosError",{value:!0}),ea.from=(e,t,n,r,i,s)=>{let o=Object.create(el);return eo.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),ea.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var eu=n(9109).lW;function eh(e){return eo.isPlainObject(e)||eo.isArray(e)}function ef(e){return eo.endsWith(e,"[]")?e.slice(0,-2):e}function ed(e,t,n){return e?e.concat(t).map(function(e,t){return e=ef(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}let ep=eo.toFlatObject(eo,{},null,function(e){return/^is[A-Z]/.test(e)});var em=function(e,t,n){if(!eo.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let r=(n=eo.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!eo.isUndefined(t[e])})).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&eo.isSpecCompliantForm(t);if(!eo.isFunction(i))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(eo.isDate(e))return e.toISOString();if(!a&&eo.isBlob(e))throw new ea("Blob is not supported. Use a Buffer instead.");return eo.isArrayBuffer(e)||eo.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):eu.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"==typeof e){if(eo.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else{var c;if(eo.isArray(e)&&(c=e,eo.isArray(c)&&!c.some(eh))||(eo.isFileList(e)||eo.endsWith(n,"[]"))&&(a=eo.toArray(e)))return n=ef(n),a.forEach(function(e,r){eo.isUndefined(e)||null===e||t.append(!0===o?ed([n],r,s):null===o?n:n+"[]",l(e))}),!1}}return!!eh(e)||(t.append(ed(i,n,s),l(e)),!1)}let u=[],h=Object.assign(ep,{defaultVisitor:c,convertValue:l,isVisitable:eh});if(!eo.isObject(e))throw TypeError("data must be an object");return!function e(n,r){if(!eo.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),eo.forEach(n,function(n,s){!0===(!(eo.isUndefined(n)||null===n)&&i.call(t,n,eo.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function eg(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ey(e,t){this._pairs=[],e&&em(e,this,t)}let ev=ey.prototype;function eb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ew(e,t,n){let r;if(!t)return e;let i=n&&n.encode||eb,s=n&&n.serialize;if(r=s?s(t,n):eo.isURLSearchParams(t)?t.toString():new ey(t,n).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}ev.append=function(e,t){this._pairs.push([e,t])},ev.toString=function(e){let t=e?function(t){return e.call(this,t,eg)}:eg;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class eE{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){eo.forEach(this.handlers,function(t){null!==t&&e(t)})}}var e_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ek="undefined"!=typeof URLSearchParams?URLSearchParams:ey,eT="undefined"!=typeof FormData?FormData:null,eR="undefined"!=typeof Blob?Blob:null;let eC="undefined"!=typeof window&&"undefined"!=typeof document,eO=(o="undefined"!=typeof navigator&&navigator.product,eC&&0>["ReactNative","NativeScript","NS"].indexOf(o)),eS="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,eL=eC&&window.location.href||"http://localhost";var eA={...c,isBrowser:!0,classes:{URLSearchParams:ek,FormData:eT,Blob:eR},protocols:["http","https","file","blob","url","data"]},ex=function(e){if(eo.isFormData(e)&&eo.isFunction(e.entries)){let t={};return eo.forEachEntry(e,(e,n)=>{!function e(t,n,r,i){let s=t[i++];if("__proto__"===s)return!0;let o=Number.isFinite(+s),a=i>=t.length;return(s=!s&&eo.isArray(r)?r.length:s,a)?eo.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n:(r[s]&&eo.isObject(r[s])||(r[s]=[]),e(t,n,r[s],i)&&eo.isArray(r[s])&&(r[s]=function(e){let t,n;let r={},i=Object.keys(e),s=i.length;for(t=0;t<s;t++)r[n=i[t]]=e[n];return r}(r[s]))),!o}(eo.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null};let ej={transitional:e_,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let n;let r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=eo.isObject(e);if(s&&eo.isHTMLForm(e)&&(e=new FormData(e)),eo.isFormData(e))return i?JSON.stringify(ex(e)):e;if(eo.isArrayBuffer(e)||eo.isBuffer(e)||eo.isStream(e)||eo.isFile(e)||eo.isBlob(e)||eo.isReadableStream(e))return e;if(eo.isArrayBufferView(e))return e.buffer;if(eo.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1){var o,a;return(o=e,a=this.formSerializer,em(o,new eA.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return eA.isNode&&eo.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},a))).toString()}if((n=eo.isFileList(e))||r.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return em(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),function(e,t,n){if(eo.isString(e))try{return(0,JSON.parse)(e),eo.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||ej.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(eo.isResponse(e)||eo.isReadableStream(e))return e;if(e&&eo.isString(e)&&(n&&!this.responseType||r)){let n=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!n&&r){if("SyntaxError"===e.name)throw ea.from(e,ea.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:eA.classes.FormData,Blob:eA.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};eo.forEach(["delete","get","head","post","put","patch"],e=>{ej.headers[e]={}});let eN=eo.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var eP=e=>{let t,n,r;let i={};return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&eN[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)}),i};let eD=Symbol("internals");function eI(e){return e&&String(e).trim().toLowerCase()}function eU(e){return!1===e||null==e?e:eo.isArray(e)?e.map(eU):String(e)}let eM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eF(e,t,n,r,i){if(eo.isFunction(r))return r.call(this,t,n);if(i&&(t=n),eo.isString(t)){if(eo.isString(r))return -1!==t.indexOf(r);if(eo.isRegExp(r))return r.test(t)}}class eB{constructor(e){e&&this.set(e)}set(e,t,n){let r=this;function i(e,t,n){let i=eI(t);if(!i)throw Error("header name must be a non-empty string");let s=eo.findKey(r,i);s&&void 0!==r[s]&&!0!==n&&(void 0!==n||!1===r[s])||(r[s||t]=eU(e))}let s=(e,t)=>eo.forEach(e,(e,n)=>i(e,n,t));if(eo.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(eo.isString(e)&&(e=e.trim())&&!eM(e))s(eP(e),t);else if(eo.isHeaders(e))for(let[t,r]of e.entries())i(r,t,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=eI(e)){let n=eo.findKey(this,e);if(n){let e=this[n];if(!t)return e;if(!0===t)return function(e){let t;let n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=r.exec(e);)n[t[1]]=t[2];return n}(e);if(eo.isFunction(t))return t.call(this,e,n);if(eo.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=eI(e)){let n=eo.findKey(this,e);return!!(n&&void 0!==this[n]&&(!t||eF(this,this[n],n,t)))}return!1}delete(e,t){let n=this,r=!1;function i(e){if(e=eI(e)){let i=eo.findKey(n,e);i&&(!t||eF(n,n[i],i,t))&&(delete n[i],r=!0)}}return eo.isArray(e)?e.forEach(i):i(e),r}clear(e){let t=Object.keys(this),n=t.length,r=!1;for(;n--;){let i=t[n];(!e||eF(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){let t=this,n={};return eo.forEach(this,(r,i)=>{let s=eo.findKey(n,i);if(s){t[s]=eU(r),delete t[i];return}let o=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(i).trim();o!==i&&delete t[i],t[o]=eU(r),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return eo.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&eo.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){let t=(this[eD]=this[eD]={accessors:{}}).accessors,n=this.prototype;function r(e){let r=eI(e);t[r]||(!function(e,t){let n=eo.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return eo.isArray(e)?e.forEach(r):r(e),this}}function e$(e,t){let n=this||ej,r=t||n,i=eB.from(r.headers),s=r.data;return eo.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function eq(e){return!!(e&&e.__CANCEL__)}function eH(e,t,n){ea.call(this,null==e?"canceled":e,ea.ERR_CANCELED,t,n),this.name="CanceledError"}function eV(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ea("Request failed with status code "+n.status,[ea.ERR_BAD_REQUEST,ea.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}eB.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),eo.reduceDescriptors(eB.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),eo.freezeMethods(eB),eo.inherits(eH,ea,{__CANCEL__:!0});var eW=function(e,t){let n;let r=Array(e=e||10),i=Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){let l=Date.now(),c=i[o];n||(n=l),r[s]=a,i[s]=l;let u=o,h=0;for(;u!==s;)h+=r[u++],u%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),l-n<t)return;let f=c&&l-c;return f?Math.round(1e3*h/f):void 0}},ez=function(e,t){let n=0,r=1e3/t,i=null;return function(){let t=Date.now();if(this===!0||t-n>r)return i&&(clearTimeout(i),i=null),n=t,e.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),e.apply(null,arguments)),r-(t-n)))}},eK=(e,t,n=3)=>{let r=0,i=eW(50,250);return ez(n=>{let s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-r,l=i(a);r=s;let c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:n,lengthComputable:null!=o};c[t?"download":"upload"]=!0,e(c)},n)},eG=eA.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){let r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){let n=eo.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},eJ=eA.hasStandardBrowserEnv?{write(e,t,n,r,i,s){let o=[e+"="+encodeURIComponent(t)];eo.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),eo.isString(r)&&o.push("path="+r),eo.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function eY(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let eX=e=>e instanceof eB?{...e}:e;function eZ(e,t){t=t||{};let n={};function r(e,t,n){return eo.isPlainObject(e)&&eo.isPlainObject(t)?eo.merge.call({caseless:n},e,t):eo.isPlainObject(t)?eo.merge({},t):eo.isArray(t)?t.slice():t}function i(e,t,n){return eo.isUndefined(t)?eo.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!eo.isUndefined(t))return r(void 0,t)}function o(e,t){return eo.isUndefined(t)?eo.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}let l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(eX(e),eX(t),!0)};return eo.forEach(Object.keys(Object.assign({},e,t)),function(r){let s=l[r]||i,o=s(e[r],t[r],r);eo.isUndefined(o)&&s!==a||(n[r]=o)}),n}var eQ=e=>{let t;let n=eZ({},e),{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=n;if(n.headers=a=eB.from(a),n.url=ew(eY(n.baseURL,n.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),eo.isFormData(r)){if(eA.hasStandardBrowserEnv||eA.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(t=a.getContentType())){let[e,...n]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...n].join("; "))}}if(eA.hasStandardBrowserEnv&&(i&&eo.isFunction(i)&&(i=i(n)),i||!1!==i&&eG(n.url))){let e=s&&o&&eJ.read(o);e&&a.set(s,e)}return n},e0="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){let r;let i=eQ(e),s=i.data,o=eB.from(i.headers).normalize(),{responseType:a}=i;function l(){i.cancelToken&&i.cancelToken.unsubscribe(r),i.signal&&i.signal.removeEventListener("abort",r)}let c=new XMLHttpRequest;function u(){if(!c)return;let r=eB.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());eV(function(e){t(e),l()},function(e){n(e),l()},{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}c.open(i.method.toUpperCase(),i.url,!0),c.timeout=i.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(n(new ea("Request aborted",ea.ECONNABORTED,i,c)),c=null)},c.onerror=function(){n(new ea("Network Error",ea.ERR_NETWORK,i,c)),c=null},c.ontimeout=function(){let e=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",t=i.transitional||e_;i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),n(new ea(e,t.clarifyTimeoutError?ea.ETIMEDOUT:ea.ECONNABORTED,i,c)),c=null},void 0===s&&o.setContentType(null),"setRequestHeader"in c&&eo.forEach(o.toJSON(),function(e,t){c.setRequestHeader(t,e)}),eo.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),a&&"json"!==a&&(c.responseType=i.responseType),"function"==typeof i.onDownloadProgress&&c.addEventListener("progress",eK(i.onDownloadProgress,!0)),"function"==typeof i.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",eK(i.onUploadProgress)),(i.cancelToken||i.signal)&&(r=t=>{c&&(n(!t||t.type?new eH(null,e,c):t),c.abort(),c=null)},i.cancelToken&&i.cancelToken.subscribe(r),i.signal&&(i.signal.aborted?r():i.signal.addEventListener("abort",r)));let h=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);if(h&&-1===eA.protocols.indexOf(h)){n(new ea("Unsupported protocol "+h+":",ea.ERR_BAD_REQUEST,e));return}c.send(s||null)})},e1=(e,t)=>{let n,r=new AbortController,i=function(e){if(!n){n=!0,o();let t=e instanceof Error?e:this.reason;r.abort(t instanceof ea?t:new eH(t instanceof Error?t.message:t))}},s=t&&setTimeout(()=>{i(new ea(`timeout ${t} of ms exceeded`,ea.ETIMEDOUT))},t),o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))}),e=null)};e.forEach(e=>e&&e.addEventListener&&e.addEventListener("abort",i));let{signal:a}=r;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]};let e4=function*(e,t){let n,r=e.byteLength;if(!t||r<t){yield e;return}let i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},e2=async function*(e,t,n){for await(let r of e)yield*e4(ArrayBuffer.isView(r)?r:await n(String(r)),t)},e9=(e,t,n,r,i)=>{let s=e2(e,t,i),o=0;return new ReadableStream({type:"bytes",async pull(e){let{done:t,value:i}=await s.next();if(t){e.close(),r();return}let a=i.byteLength;n&&n(o+=a),e.enqueue(new Uint8Array(i))},cancel:e=>(r(e),s.return())},{highWaterMark:2})},e5=(e,t)=>{let n=null!=e;return r=>setTimeout(()=>t({lengthComputable:n,total:e,loaded:r}))},e3="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,e8=e3&&"function"==typeof ReadableStream,e6=e3&&("function"==typeof TextEncoder?(a=new TextEncoder,e=>a.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),e7=e8&&(()=>{let e=!1,t=new Request(eA.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),te=e8&&!!(()=>{try{return eo.isReadableStream(new Response("").body)}catch(e){}})(),tt={stream:te&&(e=>e.body)};e3&&(l=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{tt[e]||(tt[e]=eo.isFunction(l[e])?t=>t[e]():(t,n)=>{throw new ea(`Response type '${e}' is not supported`,ea.ERR_NOT_SUPPORT,n)})}));let tn=async e=>null==e?0:eo.isBlob(e)?e.size:eo.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:eo.isArrayBufferView(e)?e.byteLength:(eo.isURLSearchParams(e)&&(e+=""),eo.isString(e))?(await e6(e)).byteLength:void 0,tr=async(e,t)=>{let n=eo.toFiniteNumber(e.getContentLength());return null==n?tn(t):n},ti={http:null,xhr:e0,fetch:e3&&(async e=>{let t,n,r,{url:i,method:s,data:o,signal:a,cancelToken:l,timeout:c,onDownloadProgress:u,onUploadProgress:h,responseType:f,headers:d,withCredentials:p="same-origin",fetchOptions:m}=eQ(e);f=f?(f+"").toLowerCase():"text";let[g,y]=a||l||c?e1([a,l],c):[],v=()=>{t||setTimeout(()=>{g&&g.unsubscribe()}),t=!0};try{if(h&&e7&&"get"!==s&&"head"!==s&&0!==(r=await tr(d,o))){let e,t=new Request(i,{method:"POST",body:o,duplex:"half"});eo.isFormData(o)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body&&(o=e9(t.body,65536,e5(r,eK(h)),null,e6))}eo.isString(p)||(p=p?"cors":"omit"),n=new Request(i,{...m,signal:g,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:o,duplex:"half",withCredentials:p});let t=await fetch(n),a=te&&("stream"===f||"response"===f);if(te&&(u||a)){let e={};["status","statusText","headers"].forEach(n=>{e[n]=t[n]});let n=eo.toFiniteNumber(t.headers.get("content-length"));t=new Response(e9(t.body,65536,u&&e5(n,eK(u,!0)),a&&v,e6),e)}f=f||"text";let l=await tt[eo.findKey(tt,f)||"text"](t,e);return a||v(),y&&y(),await new Promise((r,i)=>{eV(r,i,{data:l,headers:eB.from(t.headers),status:t.status,statusText:t.statusText,config:e,request:n})})}catch(t){if(v(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new ea("Network Error",ea.ERR_NETWORK,e,n),{cause:t.cause||t});throw ea.from(t,t&&t.code,e,n)}})};eo.forEach(ti,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let ts=e=>`- ${e}`,to=e=>eo.isFunction(e)||null===e||!1===e;var ta=e=>{let t,n;let{length:r}=e=eo.isArray(e)?e:[e],i={};for(let s=0;s<r;s++){let r;if(n=t=e[s],!to(t)&&void 0===(n=ti[(r=String(t)).toLowerCase()]))throw new ea(`Unknown adapter '${r}'`);if(n)break;i[r||"#"+s]=n}if(!n){let e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new ea("There is no suitable adapter to dispatch the request "+(r?e.length>1?"since :\n"+e.map(ts).join("\n"):" "+ts(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function tl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eH(null,e)}function tc(e){return tl(e),e.headers=eB.from(e.headers),e.data=e$.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ta(e.adapter||ej.adapter)(e).then(function(t){return tl(e),t.data=e$.call(e,e.transformResponse,t),t.headers=eB.from(t.headers),t},function(t){return!eq(t)&&(tl(e),t&&t.response&&(t.response.data=e$.call(e,e.transformResponse,t.response),t.response.headers=eB.from(t.response.headers))),Promise.reject(t)})}let tu="1.7.2",th={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{th[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});let tf={};th.transitional=function(e,t,n){function r(e,t){return"[Axios v"+tu+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new ea(r(i," has been removed"+(t?" in "+t:"")),ea.ERR_DEPRECATED);return t&&!tf[i]&&(tf[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};var td={assertOptions:function(e,t,n){if("object"!=typeof e)throw new ea("options must be an object",ea.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),i=r.length;for(;i-- >0;){let s=r[i],o=t[s];if(o){let t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new ea("option "+s+" must be "+n,ea.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new ea("Unknown option "+s,ea.ERR_BAD_OPTION)}},validators:th};let tp=td.validators;class tm{constructor(e){this.defaults=e,this.interceptors={request:new eE,response:new eE}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){let n,r;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:s,headers:o}=t=eZ(this.defaults,t);void 0!==i&&td.assertOptions(i,{silentJSONParsing:tp.transitional(tp.boolean),forcedJSONParsing:tp.transitional(tp.boolean),clarifyTimeoutError:tp.transitional(tp.boolean)},!1),null!=s&&(eo.isFunction(s)?t.paramsSerializer={serialize:s}:td.assertOptions(s,{encode:tp.function,serialize:tp.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&eo.merge(o.common,o[t.method]);o&&eo.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=eB.concat(a,o);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let h=0;if(!c){let e=[tc.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,u),r=e.length,n=Promise.resolve(t);h<r;)n=n.then(e[h++],e[h++]);return n}r=l.length;let f=t;for(h=0;h<r;){let e=l[h++],t=l[h++];try{f=e(f)}catch(e){t.call(this,e);break}}try{n=tc.call(this,f)}catch(e){return Promise.reject(e)}for(h=0,r=u.length;h<r;)n=n.then(u[h++],u[h++]);return n}getUri(e){return ew(eY((e=eZ(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}eo.forEach(["delete","get","head","options"],function(e){tm.prototype[e]=function(t,n){return this.request(eZ(n||{},{method:e,url:t,data:(n||{}).data}))}}),eo.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(eZ(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}tm.prototype[e]=t(),tm.prototype[e+"Form"]=t(!0)});class tg{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;let r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new eH(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new tg(function(t){e=t}),cancel:e}}}let ty={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ty).forEach(([e,t])=>{ty[t]=e});let tv=function e(t){let n=new tm(t),r=T(tm.prototype.request,n);return eo.extend(r,tm.prototype,n,{allOwnKeys:!0}),eo.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(eZ(t,n))},r}(ej);tv.Axios=tm,tv.CanceledError=eH,tv.CancelToken=tg,tv.isCancel=eq,tv.VERSION=tu,tv.toFormData=em,tv.AxiosError=ea,tv.Cancel=tv.CanceledError,tv.all=function(e){return Promise.all(e)},tv.spread=function(e){return function(t){return e.apply(null,t)}},tv.isAxiosError=function(e){return eo.isObject(e)&&!0===e.isAxiosError},tv.mergeConfig=eZ,tv.AxiosHeaders=eB,tv.formToJSON=e=>ex(eo.isHTMLForm(e)?new FormData(e):e),tv.getAdapter=ta,tv.HttpStatusCode=ty,tv.default=tv;var tb=n(60972);function tw(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(r,i)}function tE(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(e){tw(s,r,i,o,a,"next",e)}function a(e){tw(s,r,i,o,a,"throw",e)}o(void 0)})}}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tT="axios-retry";function tR(e){return!e.response&&!!e.code&&!["ERR_CANCELED","ECONNABORTED"].includes(e.code)&&tb(e)}var tC=["get","head","options"],tO=tC.concat(["put","delete"]);function tS(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function tL(e){return!!e.config&&tS(e)&&-1!==tO.indexOf(e.config.method)}function tA(e){return tR(e)||tL(e)}var tx={retries:3,retryCondition:tA,retryDelay:function(){return 0},shouldResetTimeout:!1,onRetry:()=>{}};function tj(e,t){var n=tk(tk(tk({},tx),t),e[tT]);return n.retryCount=n.retryCount||0,e[tT]=n,n}function tN(){return(tN=tE(function*(e,t){var{retries:n,retryCondition:r}=e,i=e.retryCount<n&&r(t);if("object"==typeof i)try{var s=yield i;return!1!==s}catch(e){return!1}return i})).apply(this,arguments)}function tP(e,t){var n;return{requestInterceptorId:e.interceptors.request.use(e=>(tj(e,t).lastRequestTime=Date.now(),e)),responseInterceptorId:e.interceptors.response.use(null,(n=tE(function*(n){var{config:r}=n;if(!r)return Promise.reject(n);var i=tj(r,t);if(yield function(e,t){return tN.apply(this,arguments)}(i,n)){i.retryCount+=1;var{retryDelay:s,shouldResetTimeout:o,onRetry:a}=i,l=s(i.retryCount,n);if(e.defaults.agent===r.agent&&delete r.agent,e.defaults.httpAgent===r.httpAgent&&delete r.httpAgent,e.defaults.httpsAgent===r.httpsAgent&&delete r.httpsAgent,!o&&r.timeout&&i.lastRequestTime){var c=Date.now()-i.lastRequestTime,u=r.timeout-c-l;if(u<=0)return Promise.reject(n);r.timeout=u}return r.transformRequest=[e=>e],yield a(i.retryCount,n,r),new Promise(t=>setTimeout(()=>t(e(r)),l))}return Promise.reject(n)}),function(e){return n.apply(this,arguments)}))}}tP.isNetworkError=tR,tP.isSafeRequestError=function(e){return!!e.config&&tS(e)&&-1!==tC.indexOf(e.config.method)},tP.isIdempotentRequestError=tL,tP.isNetworkOrIdempotentRequestError=tA,tP.exponentialDelay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;arguments.length>1&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=Math.pow(2,e)*t;return n+.2*n*Math.random()},tP.isRetryableError=tS;var tD=e=>"function"==typeof e?e:function(){return e},tI="undefined"!=typeof window?window:null,tU=("undefined"!=typeof self?self:null)||tI||tU,tM={connecting:0,open:1,closing:2,closed:3},tF="closed",tB="errored",t$="joined",tq="joining",tH="leaving",tV={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},tW="websocket",tz=class{constructor(e,t,n,r){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:n}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},tK=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},tG=class{constructor(e,t,n){this.state=tF,this.topic=e,this.params=tD(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new tz(this,tV.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new tK(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=t$,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=tB,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=tF,this.socket.remove(this)}),this.onError(e=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,e),this.isJoining()&&this.joinPush.reset(),this.state=tB,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new tz(this,tV.leave,tD({}),this.timeout).send(),this.state=tB,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(tV.reply,(e,t)=>{this.trigger(this.replyEventName(t),e)})}join(e=this.timeout){if(!this.joinedOnce)return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush;throw Error("tried to join multiple times. 'join' can only be called a single time per channel instance")}onClose(e){this.on(tV.close,e)}onError(e){return this.on(tV.error,t=>e(t))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter(n=>!(n.event===e&&(void 0===t||t===n.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(t=t||{},!this.joinedOnce)throw Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new tz(this,e,function(){return t},n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=tH;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(tV.close,"leave")},n=new tz(this,tV.leave,tD({}),e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e,t,n,r){return this.topic===e&&(!r||r===this.joinRef()||(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),!1))}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=tq,this.joinPush.resend(e))}trigger(e,t,n,r){let i=this.onMessage(e,t,n,r);if(t&&!i)throw Error("channel onMessage callbacks must return the payload, modified or unmodified");let s=this.bindings.filter(t=>t.event===e);for(let e=0;e<s.length;e++)s[e].callback(i,n,r||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===tF}isErrored(){return this.state===tB}isJoined(){return this.state===t$}isJoining(){return this.state===tq}isLeaving(){return this.state===tH}},tJ=class{static request(e,t,n,r,i,s,o){if(tU.XDomainRequest){let n=new tU.XDomainRequest;return this.xdomainRequest(n,e,t,r,i,s,o)}{let a=new tU.XMLHttpRequest;return this.xhrRequest(a,e,t,n,r,i,s,o)}}static xdomainRequest(e,t,n,r,i,s,o){return e.timeout=i,e.open(t,n),e.onload=()=>{let t=this.parseJSON(e.responseText);o&&o(t)},s&&(e.ontimeout=s),e.onprogress=()=>{},e.send(r),e}static xhrRequest(e,t,n,r,i,s,o,a){return e.open(t,n,!0),e.timeout=s,e.setRequestHeader("Content-Type",r),e.onerror=()=>a&&a(null),e.onreadystatechange=()=>{4===e.readyState&&a&&a(this.parseJSON(e.responseText))},o&&(e.ontimeout=o),e.send(i),e}static parseJSON(e){if(!e||""===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let n=[];for(var r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let i=t?`${t}[${r}]`:r,s=e[r];"object"==typeof s?n.push(this.serialize(s,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(s))}return n.join("&")}static appendParams(e,t){if(0===Object.keys(t).length)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}},tY=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=tM.connecting,this.poll()}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(RegExp("(.*)/"+tW),"$1/longpoll")}endpointURL(){return tJ.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,n){this.close(e,t,n),this.readyState=tM.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===tM.open||this.readyState===tM.connecting}poll(){this.ajax("GET",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:n,messages:r}=e;this.token=n}else t=0;switch(t){case 200:r.forEach(e=>{setTimeout(()=>this.onmessage({data:e}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=tM.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw Error(`unhandled poll status ${t}`)}})}send(e){this.ajax("POST",e,()=>this.onerror("timeout"),e=>{e&&200===e.status||(this.onerror(e&&e.status),this.closeAndRetry(1011,"internal server error",!1))})}close(e,t,n){for(let e of this.reqs)e.abort();this.readyState=tM.closed;let r=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});"undefined"!=typeof CloseEvent?this.onclose(new CloseEvent("close",r)):this.onclose(r)}ajax(e,t,n,r){let i;i=tJ.request(e,this.endpointURL(),"application/json",t,this.timeout,()=>{this.reqs.delete(i),n()},e=>{this.reqs.delete(i),this.isActive()&&r(e)}),this.reqs.add(i)}},tX={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){return e.payload.constructor===ArrayBuffer?t(this.binaryEncode(e)):t(JSON.stringify([e.join_ref,e.ref,e.topic,e.event,e.payload]))},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[n,r,i,s,o]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:s,payload:o})}},binaryEncode(e){let{join_ref:t,ref:n,event:r,topic:i,payload:s}=e,o=this.META_LENGTH+t.length+n.length+i.length+r.length,a=new ArrayBuffer(this.HEADER_LENGTH+o),l=new DataView(a),c=0;l.setUint8(c++,this.KINDS.push),l.setUint8(c++,t.length),l.setUint8(c++,n.length),l.setUint8(c++,i.length),l.setUint8(c++,r.length),Array.from(t,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(n,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(i,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(r,e=>l.setUint8(c++,e.charCodeAt(0)));var u=new Uint8Array(a.byteLength+s.byteLength);return u.set(new Uint8Array(a),0),u.set(new Uint8Array(s),a.byteLength),u.buffer},binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=t.getUint8(3),o=this.HEADER_LENGTH+this.META_LENGTH-1,a=n.decode(e.slice(o,o+r));o+=r;let l=n.decode(e.slice(o,o+i));o+=i;let c=n.decode(e.slice(o,o+s));return o+=s,{join_ref:a,ref:null,topic:l,event:c,payload:e.slice(o,e.byteLength)}},decodeReply(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=t.getUint8(3),o=t.getUint8(4),a=this.HEADER_LENGTH+this.META_LENGTH,l=n.decode(e.slice(a,a+r));a+=r;let c=n.decode(e.slice(a,a+i));a+=i;let u=n.decode(e.slice(a,a+s));a+=s;let h=n.decode(e.slice(a,a+o));a+=o;let f=e.slice(a,e.byteLength);return{join_ref:l,ref:c,topic:u,event:tV.reply,payload:{status:h,response:f}}},decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,o=n.decode(e.slice(s,s+r));s+=r;let a=n.decode(e.slice(s,s+i));return s+=i,{join_ref:null,ref:null,topic:o,event:a,payload:e.slice(s,e.byteLength)}}},tZ=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||1e4,this.transport=t.transport||tU.WebSocket||tY,this.establishedConnections=0,this.defaultEncoder=tX.encode.bind(tX),this.defaultDecoder=tX.decode.bind(tX),this.closeWasClean=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==tY?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let n=null;tI&&tI.addEventListener&&(tI.addEventListener("pagehide",e=>{this.conn&&(this.disconnect(),n=this.connectClock)}),tI.addEventListener("pageshow",e=>{n===this.connectClock&&(n=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=e=>t.rejoinAfterMs?t.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4,this.reconnectAfterMs=e=>t.reconnectAfterMs?t.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3,this.logger=t.logger||null,this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=tD(t.params||{}),this.endPoint=`${e}/${tW}`,this.vsn=t.vsn||"2.0.0",this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new tK(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return tY}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.sendBuffer=[],this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=tJ.appendParams(tJ.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=tD(e)),this.conn||(this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=e=>this.onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this.onConnClose(e))}log(e,t,n){this.logger(e,t,n)}hasLogger(){return null!==this.logger}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),n=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let r=this.onMessage(i=>{i.ref===t&&(this.off([r]),e(Date.now()-n))});return!0}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),1e3,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,n){if(!this.conn)return e&&e();this.waitForBufferDone(()=>{this.conn&&(t?this.conn.close(t,n||""):this.conn.close()),this.waitForSocketClosed(()=>{this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e()})})}waitForBufferDone(e,t=1){if(5===t||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(5===t||!this.conn||this.conn.readyState===tM.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),this.closeWasClean||1e3===t||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,t])=>t(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,r])=>{r(e,t,n)}),(t===this.transport||n>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(tV.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case tM.connecting:return"connecting";case tM.open:return"open";case tM.closing:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([t])=>-1===e.indexOf(t))}channel(e,t={}){let n=new tG(e,t,this);return this.channels.push(n),n}push(e){if(this.hasLogger()){let{topic:t,event:n,payload:r,ref:i,join_ref:s}=e;this.log("push",`${t} ${n} (${s}, ${i})`,r)}this.isConnected()?this.encode(e,e=>this.conn.send(e)):this.sendBuffer.push(()=>this.encode(e,e=>this.conn.send(e)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){(!this.pendingHeartbeatRef||this.isConnected())&&(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:i,join_ref:s}=e;i&&i===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r);for(let e=0;e<this.channels.length;e++){let o=this.channels[e];o.isMember(t,n,r,s)&&o.trigger(n,r,i,s)}for(let t=0;t<this.stateChangeCallbacks.message.length;t++){let[,n]=this.stateChangeCallbacks.message[t];n(e)}})}leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t.isJoined()||t.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}},tQ=Object.defineProperty,t0=(e,t,n)=>t in e?tQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t1=(e,t,n)=>(t0(e,"symbol"!=typeof t?t+"":t,n),n);class t4{constructor(e){t1(this,"host"),t1(this,"apiKey"),t1(this,"userToken"),t1(this,"axiosClient"),t1(this,"socket"),this.host=e.host,this.apiKey=e.apiKey,this.userToken=e.userToken||null,this.axiosClient=tv.create({baseURL:this.host,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`,"X-Knock-User-Token":this.userToken}}),"u">typeof window&&(this.socket=new tZ(`${this.host.replace("http","ws")}/ws/v1`,{params:{user_token:this.userToken,api_key:this.apiKey}})),tP(this.axiosClient,{retries:3,retryCondition:this.canRetryRequest,retryDelay:tP.exponentialDelay})}async makeRequest(e){try{let t=await this.axiosClient(e);return{statusCode:t.status<300?"ok":"error",body:t.data,error:void 0,status:t.status}}catch(e){return console.error(e),{statusCode:"error",status:500,body:void 0,error:e}}}canRetryRequest(e){return!!tP.isNetworkError(e)||!!e.response&&(e.response.status>=500&&e.response.status<=599||429===e.response.status)}}var t2=Object.defineProperty,t9=(e,t,n)=>t in e?t2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t5=(e,t,n)=>(t9(e,"symbol"!=typeof t?t+"":t,n),n);class t3{constructor(e){t5(this,"knock"),this.knock=e}async get(e){let t=await this.knock.client().makeRequest({method:"GET",url:`/v1/messages/${e}`});return this.handleResponse(t)}async updateStatus(e,t){let n=await this.knock.client().makeRequest({method:"PUT",url:`/v1/messages/${e}/${t}`});return this.handleResponse(n)}async removeStatus(e,t){let n=await this.knock.client().makeRequest({method:"DELETE",url:`/v1/messages/${e}/${t}`});return this.handleResponse(n)}async batchUpdateStatuses(e,t){let n=await this.knock.client().makeRequest({method:"POST",url:`/v1/messages/batch/${t}`,data:{message_ids:e}});return this.handleResponse(n)}async bulkUpdateAllStatusesInChannel({channelId:e,status:t,options:n}){let r=await this.knock.client().makeRequest({method:"POST",url:`/v1/channels/${e}/messages/bulk/${t}`,data:n});return this.handleResponse(r)}handleResponse(e){var t,n;if("error"===e.statusCode){if((null==(n=null==(t=e.error)?void 0:t.response)?void 0:n.status)<500)return e.error||e.body;throw Error(e.error||e.body)}return e.body}}var t8=Object.defineProperty,t6=(e,t,n)=>t in e?t8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t7=(e,t,n)=>(t6(e,"symbol"!=typeof t?t+"":t,n),n);class ne{constructor(e){t7(this,"instance"),this.instance=e}async getChannelData({collection:e,objectId:t,channelId:n}){let r=await this.instance.client().makeRequest({method:"GET",url:`/v1/objects/${e}/${t}/channel_data/${n}`});return this.handleResponse(r)}async setChannelData({objectId:e,collection:t,channelId:n,data:r}){let i=await this.instance.client().makeRequest({method:"PUT",url:`v1/objects/${t}/${e}/channel_data/${n}`,data:{data:r}});return this.handleResponse(i)}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}}var nt=Object.defineProperty,nn=(e,t,n)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nr=(e,t,n)=>(nn(e,"symbol"!=typeof t?t+"":t,n),n);let ni="default";function ns(e){return"object"==typeof e?e:{subscribed:e}}class no{constructor(e){nr(this,"instance"),this.instance=e}async getAll(){let e=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences`});return this.handleResponse(e)}async get(e={}){let t=e.preferenceSet||ni,n=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences/${t}`});return this.handleResponse(n)}async set(e,t={}){let n=t.preferenceSet||ni,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}`,data:e});return this.handleResponse(r)}async setChannelTypes(e,t={}){let n=t.preferenceSet||ni,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}/channel_types`,data:e});return this.handleResponse(r)}async setChannelType(e,t,n={}){let r=n.preferenceSet||ni,i=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${r}/channel_types/${e}`,data:{subscribed:t}});return this.handleResponse(i)}async setWorkflows(e,t={}){let n=t.preferenceSet||ni,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}/workflows`,data:e});return this.handleResponse(r)}async setWorkflow(e,t,n={}){let r=n.preferenceSet||ni,i=ns(t),s=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${r}/workflows/${e}`,data:i});return this.handleResponse(s)}async setCategories(e,t={}){let n=t.preferenceSet||ni,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}/categories`,data:e});return this.handleResponse(r)}async setCategory(e,t,n={}){let r=n.preferenceSet||ni,i=ns(t),s=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${r}/categories/${e}`,data:i});return this.handleResponse(s)}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}}var na=Object.defineProperty,nl=(e,t,n)=>t in e?na(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nc=(e,t,n)=>(nl(e,"symbol"!=typeof t?t+"":t,n),n);let nu="$tenants";class nh{constructor(e){nc(this,"instance"),this.instance=e}async authCheck({tenant:e,knockChannelId:t}){let n=await this.instance.client().makeRequest({method:"GET",url:`/v1/providers/slack/${t}/auth_check`,params:{access_token_object:{object_id:e,collection:nu},channel_id:t}});return this.handleResponse(n)}async getChannels(e){let{knockChannelId:t,tenant:n}=e,r=e.queryOptions||{},i=await this.instance.client().makeRequest({method:"GET",url:`/v1/providers/slack/${t}/channels`,params:{access_token_object:{object_id:n,collection:nu},channel_id:t,query_options:{cursor:r.cursor,limit:r.limit,exclude_archived:r.excludeArchived,team_id:r.teamId,types:r.types}}});return this.handleResponse(i)}async revokeAccessToken({tenant:e,knockChannelId:t}){let n=await this.instance.client().makeRequest({method:"PUT",url:`/v1/providers/slack/${t}/revoke_access`,params:{access_token_object:{object_id:e,collection:nu},channel_id:t}});return this.handleResponse(n)}handleResponse(e){var t,n;if("error"===e.statusCode){if((null==(n=null==(t=e.error)?void 0:t.response)?void 0:n.status)<500)return e.error||e.body;throw Error(e.error||e.body)}return e.body}}var nf=Object.defineProperty,nd=(e,t,n)=>t in e?nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,np=(e,t,n)=>(nd(e,"symbol"!=typeof t?t+"":t,n),n);let nm="default";class ng{constructor(e){np(this,"instance"),this.instance=e}async get(){let e=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}`});return this.handleResponse(e)}async identify(e={}){let t=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}`,params:e});return this.handleResponse(t)}async getAllPreferences(){let e=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences`});return this.handleResponse(e)}async getPreferences(e={}){let t=e.preferenceSet||nm,n=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences/${t}`,params:{tenant:e.tenant}});return this.handleResponse(n)}async setPreferences(e,t={}){let n=t.preferenceSet||nm,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}`,data:e});return this.handleResponse(r)}async getChannelData(e){let t=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/channel_data/${e.channelId}`});return this.handleResponse(t)}async setChannelData({channelId:e,channelData:t}){let n=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/channel_data/${e}`,data:{data:t}});return this.handleResponse(n)}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}}var ny=Object.defineProperty,nv=(e,t,n)=>t in e?ny(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nb=(e,t,n)=>(nv(e,"symbol"!=typeof t?t+"":t,n),n);class nw{constructor(e,t={}){if(nb(this,"host"),nb(this,"apiClient",null),nb(this,"userId"),nb(this,"userToken"),nb(this,"logLevel"),nb(this,"tokenExpirationTimer",null),nb(this,"feeds",new _(this)),nb(this,"objects",new ne(this)),nb(this,"preferences",new no(this)),nb(this,"slack",new nh(this)),nb(this,"user",new ng(this)),nb(this,"messages",new t3(this)),this.apiKey=e,this.host=t.host||"https://api.knock.app",this.logLevel=t.logLevel,this.log("Initialized Knock instance"),this.apiKey&&this.apiKey.startsWith("sk_"))throw Error("[Knock] You are using your secret API key on the client. Please use the public key.")}client(){return this.userId||console.warn(`[Knock] You must call authenticate(userId, userToken) first before trying to make a request.
        Typically you'll see this message when you're creating a feed instance before having called
        authenticate with a user Id and token. That means we won't know who to issue the request
        to Knock on behalf of.
        `),this.apiClient||(this.apiClient=this.createApiClient()),this.apiClient}authenticate(e,t,n){let r=!1;this.apiClient&&(this.userId!==e||this.userToken!==t)&&(this.log("userId or userToken changed; reinitializing connections"),this.feeds.teardownInstances(),this.teardown(),r=!0),this.userId=e,this.userToken=t,this.log(`Authenticated with userId ${e}`),this.userToken&&(null==n?void 0:n.onUserTokenExpiring)instanceof Function&&this.maybeScheduleUserTokenExpiration(n.onUserTokenExpiring,n.timeBeforeExpirationInMs),r&&(this.apiClient=this.createApiClient(),this.feeds.reinitializeInstances(),this.log("Reinitialized real-time connections"))}isAuthenticated(e=!1){return e?!!(this.userId&&this.userToken):!!this.userId}teardown(){var e;this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),null!=(e=this.apiClient)&&e.socket&&this.apiClient.socket.isConnected()&&this.apiClient.socket.disconnect()}log(e){"debug"===this.logLevel&&console.log(`[Knock] ${e}`)}createApiClient(){return new t4({apiKey:this.apiKey,host:this.host,userToken:this.userToken})}async maybeScheduleUserTokenExpiration(e,t=3e4){if(!this.userToken)return;let n=function(e,t){let n;if("string"!=typeof e)throw new k("Invalid token specified: must be a string");t||(t={});let r=!0===t.header?0:1,i=e.split(".")[r];if("string"!=typeof i)throw new k(`Invalid token specified: missing part #${r+1}`);try{n=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var n;return n=t,decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return atob(t)}}(i)}catch(e){throw new k(`Invalid token specified: invalid base64 for part #${r+1} (${e.message})`)}try{return JSON.parse(n)}catch(e){throw new k(`Invalid token specified: invalid json for part #${r+1} (${e.message})`)}}(this.userToken),r=(n.exp??0)*1e3,i=Date.now();if(r&&r>i){let s=r-t-i;this.tokenExpirationTimer=setTimeout(async()=>{let r=await e(this.userToken,n);"string"==typeof r&&this.authenticate(this.userId,r,{onUserTokenExpiring:e,timeBeforeExpirationInMs:t})},s)}}}},68687:function(e,t,n){"use strict";let r,i,s;n.d(t,{zV:function(){return Q},E7:function(){return b},ys:function(){return w},Gu:function(){return X},zn:function(){return K}});var o,a,l,c,u,h=n(2265);let f={en:{translations:{archiveNotification:"Archive this notification",markAllAsRead:"Mark all as read",notifications:"Notifications",emptyFeedTitle:"No notifications yet",emptyFeedBody:"We'll let you know when we've got something new for you.",all:"All",unread:"Unread",read:"Read",unseen:"Unseen",slackConnectChannel:"Connect channel",slackChannelId:"Slack channel ID",slackConnecting:"Connecting to Slack...",slackDisconnecting:"Disconnecting...",slackConnect:"Connect to Slack",slackConnected:"Connected",slackConnectContainerDescription:"Connect to get notifications in your Slack workspace.",slackSearchbarDisconnected:"Slack is not connected.",slackSearchbarMultipleChannels:"Multiple channels connected",slackSearchbarNoChannelsConnected:"Search channels",slackSearchbarNoChannelsFound:"No slack channels.",slackSearchbarChannelsError:"Error fetching channels.",slackSearchChannels:"Search channels",slackConnectionErrorExists:"Try reconnecting to Slack to find and select channels from your workspace.",slackConnectionErrorOccurred:"There was an error connecting to Slack. Try reconnecting to find and select channels from your workspace.",slackChannelAlreadyConnected:"Error: already connected",slackError:"Error",slackDisconnect:"Disconnect",slackChannelSetError:"Error setting channel.",slackAccessTokenNotSet:"Access token not set.",slackReconnect:"Reconnect"},locale:"en"}},d=h.createContext(f.en),p=({i18n:e=f.en,...t})=>h.createElement(d.Provider,{...t,value:e});var m=n(54153);function g(e){let t=(0,h.useRef)();return(0,h.useMemo)(()=>{let n=t.current;return n&&function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}(e,n)?n:(t.current=e,e)},[e])}function y(e,t,n,r={}){e.authenticate(t,n,{onUserTokenExpiring:null==r?void 0:r.onUserTokenExpiring,timeBeforeExpirationInMs:null==r?void 0:r.timeBeforeExpirationInMs})}let v=h.createContext(null),b=({apiKey:e,host:t,logLevel:n,userId:r,userToken:i,onUserTokenExpiring:s,timeBeforeExpirationInMs:o,children:a,i18n:l})=>{let c=function(e,t,n,r={}){let i=h.useRef(),s=g(r);return h.useMemo(()=>{let r=i.current;if(r&&r.isAuthenticated()&&(r.userId!==t||r.userToken!==n))return y(r,t,n,s),r;r&&r.teardown();let o=new m.ZP(e,{host:s.host,logLevel:s.logLevel});return y(o,t,n,s),i.current=o,o},[e,t,n,s])}(e,r,i,h.useMemo(()=>({host:t,onUserTokenExpiring:s,timeBeforeExpirationInMs:o,logLevel:n}),[t,s,o,n]));return h.createElement(v.Provider,{value:{knock:c}},h.createElement(p,{i18n:l},a))},w=()=>{let e=h.useContext(v);if(void 0===e)throw Error("useKnock must be used within a KnockProvider");return e.knock};var E=((r=E||{}).All="all",r.Read="read",r.Unseen="unseen",r.Unread="unread",r);let _={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},k=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,T=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,R=/^([+-])(\d{2})(?::?(\d{2}))?$/;function C(e){return e?parseInt(e):1}function O(e){return e&&parseFloat(e.replace(",","."))||0}let S=[31,null,31,30,31,30,31,31,30,31,30,31];function L(e){return e%400==0||e%4==0&&e%100!=0}function A(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}function x(e){let t=A(e);return t.setHours(0,0,0,0),t}function j(e){let t=A(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function N(e,t){let n=x(e),r=x(t);return Math.round((+n-j(n)-(+r-j(r)))/864e5)}function P(e,t){let n=A(e),r=A(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function D(e){return Math.trunc(A(e).getMonth()/3)+1}function I(e,t){let n=A(e),r=A(t);return 4*(n.getFullYear()-r.getFullYear())+(D(n)-D(r))}let U={};function M(e,t){var n,r,i,s,o,a,l,c;let u=null!==(c=null!==(l=null!==(a=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t?void 0:null===(r=t.locale)||void 0===r?void 0:null===(n=r.options)||void 0===n?void 0:n.weekStartsOn)&&void 0!==a?a:U.weekStartsOn)&&void 0!==l?l:null===(s=U.locale)||void 0===s?void 0:null===(i=s.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==c?c:0,h=A(e),f=h.getDay();return h.setDate(h.getDate()-((f<u?7:0)+f-u)),h.setHours(0,0,0,0),h}function F(e,t,n){let r=M(e,n),i=M(t,n);return Math.round((+r-j(r)-(+i-j(i)))/6048e5)}function B(e,t){let n=A(e),r=A(t);return n.getFullYear()-r.getFullYear()}function $(e){return t=>{let n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}function q(e,t){return+A(e)-+A(t)}function H(e,t,n){let r=q(e,t)/36e5;return $(null==n?void 0:n.roundingMethod)(r)}function V(e,t,n){let r=q(e,t)/6e4;return $(null==n?void 0:n.roundingMethod)(r)}function W(e,t,n){let r=q(e,t)/1e3;return $(null==n?void 0:n.roundingMethod)(r)}function z(e,t){return void 0!==e?e:t}function K(e,t,n={}){let r=(0,h.useRef)(),i=g(n);return(0,h.useMemo)(()=>(r.current&&r.current.dispose(),r.current=e.feeds.initialize(t,i),r.current.store.subscribe(e=>{var t;return null==(t=null==r?void 0:r.current)?void 0:t.store.setState(e)}),r.current.listenForUpdates(),r.current),[e,t,i])}let G="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?h.useEffect:h.useLayoutEffect,J="u">typeof window?h.useLayoutEffect:h.useEffect;function Y(e){let t=h.useMemo(()=>(function(e){let t="function"==typeof e?function(e){let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s=(e,r=i,s=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function a(){let n=r(t);if(!s(o,n)){let t=o;e(o=n,t)}}return n.add(a),()=>n.delete(a)},o={setState:r,getState:i,subscribe:(e,t,r)=>t||r?s(e,t,r):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}(e):e,n=(e=t.getState,n=Object.is)=>{let r;let[,i]=(0,h.useReducer)(e=>e+1,0),s=t.getState(),o=(0,h.useRef)(s),a=(0,h.useRef)(e),l=(0,h.useRef)(n),c=(0,h.useRef)(!1),u=(0,h.useRef)();void 0===u.current&&(u.current=e(s));let f=!1;(o.current!==s||a.current!==e||l.current!==n||c.current)&&(r=e(s),f=!n(u.current,r)),G(()=>{f&&(u.current=r),o.current=s,a.current=e,l.current=n,c.current=!1});let d=(0,h.useRef)(s);G(()=>{let e=()=>{try{let e=t.getState(),n=a.current(e);l.current(u.current,n)||(o.current=e,u.current=n,i())}catch(e){c.current=!0,i()}},n=t.subscribe(e);return t.getState()!==d.current&&e(),n},[]);let p=f?r:u.current;return(0,h.useDebugValue)(p),p};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[n,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},n})(e.store),[e]),[,n]=h.useReducer(e=>e+1,0);return J(()=>{let t=e.store.subscribe(n);return n(),t},[e]),t}function X(e,t){return Y(e)(t||e.store.getState)}let Z=h.createContext(void 0),Q=({feedId:e,children:t,defaultFeedOptions:n={},colorMode:r="light"})=>{let i=w(),s=K(i,e,n),o=Y(s);return h.createElement(Z.Provider,{key:function(e,t,n={}){return[e,t,n.source,n.tenant,n.has_tenant,n.archived].filter(e=>null!=e).join("-")}(i.userId,e,n),value:{knock:i,feedClient:s,useFeedStore:o,colorMode:r}},t)},ee=()=>{let e=h.useContext(Z);if(!e)throw Error("useKnockFeed must be used within a KnockFeedProvider");return e};function et(){let{translations:e,locale:t}=(0,h.useContext)(d);return{locale:t,t:t=>e[t]||f.en.translations[t]}}var en=n(10554);let er=()=>{},ei=er(),es=Object,eo=e=>e===ei,ea=e=>"function"==typeof e,el=(e,t)=>({...e,...t}),ec=e=>ea(e.then),eu=new WeakMap,eh=0,ef=e=>{let t,n;let r=typeof e,i=e&&e.constructor,s=i==Date;if(es(e)!==e||s||i==RegExp)t=s?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=eu.get(e))return t;if(t=++eh+"~",eu.set(e,t),i==Array){for(n=0,t="@";n<e.length;n++)t+=ef(e[n])+",";eu.set(e,t)}if(i==es){t="#";let r=es.keys(e).sort();for(;!eo(n=r.pop());)eo(e[n])||(t+=n+":"+ef(e[n])+",");eu.set(e,t)}}return t},ed=new WeakMap,ep={},em={},eg="undefined",ey=typeof window!=eg,ev=typeof document!=eg,eb=()=>ey&&typeof window.requestAnimationFrame!=eg,ew=(e,t)=>{let n=ed.get(e);return[()=>!eo(t)&&e.get(t)||ep,r=>{if(!eo(t)){let i=e.get(t);t in em||(em[t]=i),n[5](t,el(i,r),i||ep)}},n[6],()=>!eo(t)&&t in em?em[t]:!eo(t)&&e.get(t)||ep]},eE=!0,[e_,ek]=ey&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[er,er],eT={initFocus:e=>(ev&&document.addEventListener("visibilitychange",e),e_("focus",e),()=>{ev&&document.removeEventListener("visibilitychange",e),ek("focus",e)}),initReconnect:e=>{let t=()=>{eE=!0,e()},n=()=>{eE=!1};return e_("online",t),e_("offline",n),()=>{ek("online",t),ek("offline",n)}}},eR=!h.useId,eC=!ey||"Deno"in window,eO=e=>eb()?window.requestAnimationFrame(e):setTimeout(e,1),eS=eC?h.useEffect:h.useLayoutEffect,eL="undefined"!=typeof navigator&&navigator.connection,eA=!eC&&eL&&(["slow-2g","2g"].includes(eL.effectiveType)||eL.saveData),ex=e=>{if(ea(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?ef(e):"",t]},ej=0,eN=()=>++ej;var eP={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function eD(...e){let[t,n,r,i]=e,s=el({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),o=s.populateCache,a=s.rollbackOnError,l=s.optimisticData,c=e=>"function"==typeof a?a(e):!1!==a,u=s.throwOnError;if(ea(n)){let e=[];for(let r of t.keys())!/^\$(inf|sub)\$/.test(r)&&n(t.get(r)._k)&&e.push(r);return Promise.all(e.map(h))}return h(n);async function h(n){let i;let[a]=ex(n);if(!a)return;let[h,f]=ew(t,a),[d,p,m,g]=ed.get(t),y=()=>{let e=d[a];return(ea(s.revalidate)?s.revalidate(h().data,n):!1!==s.revalidate)&&(delete m[a],delete g[a],e&&e[0])?e[0](2).then(()=>h().data):h().data};if(e.length<3)return y();let v=r,b=eN();p[a]=[b,0];let w=!eo(l),E=h(),_=E.data,k=E._c,T=eo(k)?_:k;if(w&&f({data:l=ea(l)?l(T,_):l,_c:T}),ea(v))try{v=v(T)}catch(e){i=e}if(v&&ec(v)){if(v=await v.catch(e=>{i=e}),b!==p[a][0]){if(i)throw i;return v}i&&w&&c(i)&&(o=!0,f({data:T,_c:ei}))}if(o&&!i&&(ea(o)?f({data:o(v,T),error:ei,_c:ei}):f({data:v,error:ei,_c:ei})),p[a][1]=eN(),Promise.resolve(y()).then(()=>{f({_c:ei})}),i){if(u)throw i;return}return v}}let eI=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},eU=(e,t)=>{if(!ed.has(e)){let n=el(eT,t),r={},i=eD.bind(ei,e),s=er,o={},a=(e,t)=>{let n=o[e]||[];return o[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},l=(t,n,r)=>{e.set(t,n);let i=o[t];if(i)for(let e of i)e(n,r)},c=()=>{if(!ed.has(e)&&(ed.set(e,[r,{},{},{},i,l,a]),!eC)){let t=n.initFocus(setTimeout.bind(ei,eI.bind(ei,r,0))),i=n.initReconnect(setTimeout.bind(ei,eI.bind(ei,r,1)));s=()=>{t&&t(),i&&i(),ed.delete(e)}}};return c(),[e,i,c,s]}return[e,ed.get(e)[4]]},[eM,eF]=eU(new Map),eB=el({onLoadingSlow:er,onSuccess:er,onError:er,onErrorRetry:(e,t,n,r,i)=>{let s=n.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;(eo(s)||!(o>s))&&setTimeout(r,a,i)},onDiscarded:er,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:eA?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:eA?5e3:3e3,compare:(e,t)=>ef(e)==ef(t),isPaused:()=>!1,cache:eM,mutate:eF,fallback:{}},{isOnline:()=>eE,isVisible:()=>{let e=ev&&document.visibilityState;return eo(e)||"hidden"!==e}}),e$=(e,t)=>{let n=el(e,t);if(t){let{use:r,fallback:i}=e,{use:s,fallback:o}=t;r&&s&&(n.use=r.concat(s)),i&&o&&(n.fallback=el(i,o))}return n},eq=(0,h.createContext)({}),eH="$inf$",eV=ey&&window.__SWR_DEVTOOLS_USE__,eW=eV?window.__SWR_DEVTOOLS_USE__:[],ez=e=>ea(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],eK=()=>el(eB,(0,h.useContext)(eq)),eG=eW.concat(e=>(t,n,r)=>{let i=n&&((...e)=>{let[r]=ex(t),[,,,i]=ed.get(eM);if(r.startsWith(eH))return n(...e);let s=i[r];return eo(s)?n(...e):(delete i[r],s)});return e(t,i,r)}),eJ=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};eV&&(window.__SWR_DEVTOOLS_REACT__=h);let eY=h.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),eX={dedupe:!0};es.defineProperty(e=>{let{value:t}=e,n=(0,h.useContext)(eq),r=ea(t),i=(0,h.useMemo)(()=>r?t(n):t,[r,n,t]),s=(0,h.useMemo)(()=>r?i:e$(n,i),[r,n,i]),o=i&&i.provider,a=(0,h.useRef)(ei);o&&!a.current&&(a.current=eU(o(s.cache||eM),i));let l=a.current;return l&&(s.cache=l[0],s.mutate=l[1]),eS(()=>{if(l)return l[2]&&l[2](),l[3]},[]),(0,h.createElement)(eq.Provider,el(e,{value:s}))},"defaultValue",{value:eB});let eZ=(i=(e,t,n)=>{let{cache:r,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:f,keepPreviousData:d}=n,[p,m,g,y]=ed.get(r),[v,b]=ex(e),w=(0,h.useRef)(!1),E=(0,h.useRef)(!1),_=(0,h.useRef)(v),k=(0,h.useRef)(t),T=(0,h.useRef)(n),R=()=>T.current,C=()=>R().isVisible()&&R().isOnline(),[O,S,L,A]=ew(r,v),x=(0,h.useRef)({}).current,j=eo(o)?n.fallback[v]:o,N=(e,t)=>{for(let n in x)if("data"===n){if(!i(e[n],t[n])&&(!eo(e[n])||!i(q,t[n])))return!1}else if(t[n]!==e[n])return!1;return!0},P=(0,h.useMemo)(()=>{let e=!!v&&!!t&&(eo(a)?!R().isPaused()&&!s&&(!!eo(l)||l):a),n=t=>{let n=el(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},r=O(),i=A(),o=n(r),c=r===i?o:n(i),u=o;return[()=>{let e=n(O());return N(e,u)?(u.data=e.data,u.isLoading=e.isLoading,u.isValidating=e.isValidating,u.error=e.error,u):(u=e,e)},()=>c]},[r,v]),D=(0,en.useSyncExternalStore)((0,h.useCallback)(e=>L(v,(t,n)=>{N(n,t)||e()}),[r,v]),P[0],P[1]),I=!w.current,U=p[v]&&p[v].length>0,M=D.data,F=eo(M)?j:M,B=D.error,$=(0,h.useRef)(F),q=d?eo(M)?$.current:M:F,H=(!U||!!eo(B))&&(I&&!eo(a)?a:!R().isPaused()&&(s?!eo(F)&&l:eo(F)||l)),V=!!(v&&t&&I&&H),W=eo(D.isValidating)?V:D.isValidating,z=eo(D.isLoading)?V:D.isLoading,K=(0,h.useCallback)(async e=>{let t,r;let s=k.current;if(!v||!s||E.current||R().isPaused())return!1;let o=!0,a=e||{},l=!g[v]||!a.dedupe,c=()=>eR?!E.current&&v===_.current&&w.current:v===_.current,u={isValidating:!1,isLoading:!1},h=()=>{S(u)},f=()=>{let e=g[v];e&&e[1]===r&&delete g[v]},d={isValidating:!0};eo(O().data)&&(d.isLoading=!0);try{if(l&&(S(d),n.loadingTimeout&&eo(O().data)&&setTimeout(()=>{o&&c()&&R().onLoadingSlow(v,n)},n.loadingTimeout),g[v]=[s(b),eN()]),[t,r]=g[v],t=await t,l&&setTimeout(f,n.dedupingInterval),!g[v]||g[v][1]!==r)return l&&c()&&R().onDiscarded(v),!1;u.error=ei;let e=m[v];if(!eo(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return h(),l&&c()&&R().onDiscarded(v),!1;let a=O().data;u.data=i(a,t)?a:t,l&&c()&&R().onSuccess(t,v,n)}catch(n){f();let e=R(),{shouldRetryOnError:t}=e;!e.isPaused()&&(u.error=n,l&&c()&&(e.onError(n,v,e),(!0===t||ea(t)&&t(n))&&(!R().revalidateOnFocus||!R().revalidateOnReconnect||C())&&e.onErrorRetry(n,v,e,e=>{let t=p[v];t&&t[0]&&t[0](eP.ERROR_REVALIDATE_EVENT,e)},{retryCount:(a.retryCount||0)+1,dedupe:!0})))}return o=!1,h(),!0},[v,r]),G=(0,h.useCallback)((...e)=>eD(r,_.current,...e),[]);if(eS(()=>{k.current=t,T.current=n,eo(M)||($.current=M)}),eS(()=>{if(!v)return;let e=K.bind(ei,eX),t=0,n=eJ(v,p,(n,r={})=>{if(n==eP.FOCUS_EVENT){let n=Date.now();R().revalidateOnFocus&&n>t&&C()&&(t=n+R().focusThrottleInterval,e())}else if(n==eP.RECONNECT_EVENT)R().revalidateOnReconnect&&C()&&e();else if(n==eP.MUTATE_EVENT)return K();else if(n==eP.ERROR_REVALIDATE_EVENT)return K(r)});return E.current=!1,_.current=v,w.current=!0,S({_k:b}),H&&(eo(F)||eC?e():eO(e)),()=>{E.current=!0,n()}},[v]),eS(()=>{let e;function t(){let t=ea(c)?c(O().data):c;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!O().error&&(u||R().isVisible())&&(f||R().isOnline())?K(eX).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[c,u,f,v]),(0,h.useDebugValue)(q),s&&eo(F)&&v){if(!eR&&eC)throw Error("Fallback data is required when using suspense in SSR.");k.current=t,T.current=n,E.current=!1;let e=y[v];if(eo(e)||eY(G(e)),eo(B)){let e=K(eX);eo(q)||(e.status="fulfilled",e.value=!0),eY(e)}else throw B}return{mutate:G,get data(){return x.data=!0,q},get error(){return x.error=!0,B},get isValidating(){return x.isValidating=!0,W},get isLoading(){return x.isLoading=!0,z}}},function(...e){let t=eK(),[n,r,s]=ez(e),o=e$(t,s),a=i,{use:l}=o,c=(l||[]).concat(eG);for(let e=c.length;e--;)a=c[e](a);return a(n,r||o.fetcher||null,o)}),eQ=e=>ex(e?e(0,null):null)[0],e0=Promise.resolve();s=e=>(t,n,r)=>{let i;let s=(0,h.useRef)(!1),{cache:o,initialSize:a=1,revalidateAll:l=!1,persistSize:c=!1,revalidateFirstPage:u=!0,revalidateOnMount:f=!1,parallel:d=!1}=r,[,,,p]=ed.get(eM);try{(i=eQ(t))&&(i=eH+i)}catch(e){}let[m,g,y]=ew(o,i),v=(0,h.useCallback)(()=>eo(m()._l)?a:m()._l,[o,i,a]);(0,en.useSyncExternalStore)((0,h.useCallback)(e=>i?y(i,()=>{e()}):()=>{},[o,i]),v,v);let b=(0,h.useCallback)(()=>{let e=m()._l;return eo(e)?a:e},[i,a]),w=(0,h.useRef)(b());eS(()=>{if(!s.current){s.current=!0;return}i&&g({_l:c?w.current:b()})},[i,o]);let E=f&&!s.current,_=e(i,async e=>{let i=m()._i,s=m()._r;g({_r:ei});let a=[],c=b(),[h]=ew(o,e),f=h().data,y=[],v=null;for(let e=0;e<c;++e){let[c,h]=ex(t(e,d?null:v));if(!c)break;let[m,g]=ew(o,c),b=m().data,w=l||i||eo(b)||u&&!e&&!eo(f)||E||f&&!eo(f[e])&&!r.compare(f[e],b);if(n&&("function"==typeof s?s(b,h):w)){let t=async()=>{if(c in p){let e=p[c];delete p[c],b=await e}else b=await n(h);g({data:b,_k:h}),a[e]=b};d?y.push(t):await t()}else a[e]=b;d||(v=b)}return d&&await Promise.all(y.map(e=>e())),g({_i:ei}),a},r),k=(0,h.useCallback)(function(e,t){let n="boolean"==typeof t?{revalidate:t}:t||{},r=!1!==n.revalidate;return i?(r&&(eo(e)?g({_i:!0,_r:n.revalidate}):g({_i:!1,_r:n.revalidate})),arguments.length?_.mutate(e,{...n,revalidate:r}):_.mutate()):e0},[i,o]),T=(0,h.useCallback)(e=>{let n;if(!i)return e0;let[,r]=ew(o,i);if(ea(e)?n=e(b()):"number"==typeof e&&(n=e),"number"!=typeof n)return e0;r({_l:n}),w.current=n;let s=[],[a]=ew(o,i),l=null;for(let e=0;e<n;++e){let[n]=ex(t(e,l)),[r]=ew(o,n),i=n?r().data:ei;if(eo(i))return k(a().data);s.push(i),l=i}return k(s)},[i,o,k,b]);return{size:b(),setSize:T,mutate:k,get data(){return _.data},get error(){return _.error},get isValidating(){return _.isValidating},get isLoading(){return _.isLoading}}},h.createContext(null);let e1=({color:e="rgba(0,0,0,0.4)",speed:t="medium",gap:n=4,thickness:r=4,size:i="1em",...s})=>h.createElement("svg",{height:i,width:i,...s,style:{animationDuration:`${"fast"===t?600:"slow"===t?900:750}ms`},className:"__react-svg-spinner_circle",role:"img","aria-labelledby":"title desc",viewBox:"0 0 32 32"},h.createElement("title",{id:"title"},"Circle loading spinner"),h.createElement("desc",{id:"desc"},'Image of a partial circle indicating "loading."'),h.createElement("style",{dangerouslySetInnerHTML:{__html:`
      .__react-svg-spinner_circle{
          transition-property: transform;
          animation-name: __react-svg-spinner_infinite-spin;
          animation-iteration-count: infinite;
          animation-timing-function: linear;
      }
      @keyframes __react-svg-spinner_infinite-spin {
          from {transform: rotate(0deg)}
          to {transform: rotate(360deg)}
      }
    `}}),h.createElement("circle",{role:"presentation",cx:16,cy:16,r:14-r/2,stroke:e,fill:"none",strokeWidth:r,strokeDasharray:2*Math.PI*(11-n),strokeLinecap:"round"})),e4=({hasLabel:e})=>h.createElement("div",{className:`rnf-button-spinner rnf-button-spinner--${e?"with-label":"without-label"}`},h.createElement(e1,null)),e2=({variant:e="primary",loadingText:t,isLoading:n=!1,isDisabled:r=!1,isFullWidth:i=!1,onClick:s,children:o})=>{let{colorMode:a}=ee(),l=["rnf-button",`rnf-button--${e}`,i?"rnf-button--full-width":"",n?"rnf-button--is-loading":"",`rnf-button--${a}`].join(" "),c=t||h.createElement("span",{className:"rnf-button__button-text-hidden"},o);return h.createElement("button",{onClick:s,className:l,disabled:n||r,type:"button"},n&&h.createElement(e4,{hasLabel:!!t}),n?c:o)},e9=({children:e})=>h.createElement("div",{className:"rnf-button-group"},e),e5=({width:e=24,height:t=24})=>h.createElement("svg",{width:e,viewBox:"0 0 24 24",fill:"none",height:t},h.createElement("path",{d:"M20.0474 16.4728C18.8436 14.9996 17.9938 14.2496 17.9938 10.1879C17.9938 6.46832 16.0944 5.14317 14.5311 4.49957C14.3235 4.41426 14.128 4.21832 14.0647 4.00504C13.7905 3.07176 13.0217 2.24957 11.9999 2.24957C10.978 2.24957 10.2088 3.07223 9.93736 4.00598C9.87408 4.2216 9.67861 4.41426 9.47096 4.49957C7.9058 5.1441 6.0083 6.46457 6.0083 10.1879C6.00596 14.2496 5.15611 14.9996 3.95237 16.4728C3.45362 17.0832 3.89049 17.9996 4.76283 17.9996H19.2416C20.1092 17.9996 20.5433 17.0803 20.0474 16.4728Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.createElement("path",{d:"M14.9999 17.9988V18.7488C14.9999 19.5445 14.6838 20.3075 14.1212 20.8701C13.5586 21.4327 12.7955 21.7488 11.9999 21.7488C11.2042 21.7488 10.4412 21.4327 9.87856 20.8701C9.31595 20.3075 8.99988 19.5445 8.99988 18.7488V17.9988",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),e3=({width:e=14,height:t=14})=>h.createElement("svg",{width:e,height:t,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M7.00012 0.499939C3.41606 0.499939 0.500122 3.41588 0.500122 6.99994C0.500122 10.584 3.41606 13.4999 7.00012 13.4999C10.5842 13.4999 13.5001 10.584 13.5001 6.99994C13.5001 3.41588 10.5842 0.499939 7.00012 0.499939ZM9.35356 8.6465C9.40194 8.69247 9.44063 8.74766 9.46735 8.80881C9.49407 8.86997 9.50828 8.93585 9.50913 9.00259C9.50999 9.06932 9.49747 9.13555 9.47233 9.19737C9.44718 9.25919 9.40992 9.31535 9.36273 9.36254C9.31553 9.40973 9.25937 9.447 9.19755 9.47214C9.13573 9.49729 9.0695 9.5098 9.00277 9.50895C8.93604 9.50809 8.87015 9.49389 8.809 9.46717C8.74784 9.44045 8.69265 9.40176 8.64668 9.35337L7.00012 7.70712L5.35356 9.35337C5.25903 9.44318 5.13315 9.49251 5.00277 9.49084C4.87239 9.48918 4.74782 9.43664 4.65562 9.34444C4.56342 9.25224 4.51088 9.12767 4.50921 8.99729C4.50755 8.86691 4.55687 8.74103 4.64668 8.6465L6.29293 6.99994L4.64668 5.35338C4.55687 5.25884 4.50755 5.13297 4.50921 5.00259C4.51088 4.87221 4.56342 4.74764 4.65562 4.65544C4.74782 4.56324 4.87239 4.5107 5.00277 4.50903C5.13315 4.50736 5.25903 4.55669 5.35356 4.6465L7.00012 6.29275L8.64668 4.6465C8.74121 4.55669 8.86709 4.50736 8.99747 4.50903C9.12785 4.5107 9.25242 4.56324 9.34462 4.65544C9.43682 4.74764 9.48936 4.87221 9.49103 5.00259C9.4927 5.13297 9.44337 5.25884 9.35356 5.35338L7.70731 6.99994L9.35356 8.6465Z",fill:"currentColor"}));function e8(){return(e8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n(2151);var e6=n(54887);function e7(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function te(e){var t=e7(e).Element;return e instanceof t||e instanceof Element}function tt(e){var t=e7(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function tn(e){if("undefined"==typeof ShadowRoot)return!1;var t=e7(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var tr=Math.max,ti=Math.min,ts=Math.round;function to(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ta(){return!/^((?!chrome|android).)*safari/i.test(to())}function tl(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&tt(e)&&(i=e.offsetWidth>0&&ts(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&ts(r.height)/e.offsetHeight||1);var o=(te(e)?e7(e):window).visualViewport,a=!ta()&&n,l=(r.left+(a&&o?o.offsetLeft:0))/i,c=(r.top+(a&&o?o.offsetTop:0))/s,u=r.width/i,h=r.height/s;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function tc(e){var t=e7(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tu(e){return e?(e.nodeName||"").toLowerCase():null}function th(e){return((te(e)?e.ownerDocument:e.document)||window.document).documentElement}function tf(e){return tl(th(e)).left+tc(e).scrollLeft}function td(e){return e7(e).getComputedStyle(e)}function tp(e){var t=td(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function tm(e){var t=tl(e),n=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-r)&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function tg(e){return"html"===tu(e)?e:e.assignedSlot||e.parentNode||(tn(e)?e.host:null)||th(e)}function ty(e,t){void 0===t&&(t=[]);var n,r=function e(t){return["html","body","#document"].indexOf(tu(t))>=0?t.ownerDocument.body:tt(t)&&tp(t)?t:e(tg(t))}(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=e7(r),o=i?[s].concat(s.visualViewport||[],tp(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(ty(tg(o)))}function tv(e){return tt(e)&&"fixed"!==td(e).position?e.offsetParent:null}function tb(e){for(var t=e7(e),n=tv(e);n&&["table","td","th"].indexOf(tu(n))>=0&&"static"===td(n).position;)n=tv(n);return n&&("html"===tu(n)||"body"===tu(n)&&"static"===td(n).position)?t:n||function(e){var t=/firefox/i.test(to());if(/Trident/i.test(to())&&tt(e)&&"fixed"===td(e).position)return null;var n=tg(e);for(tn(n)&&(n=n.host);tt(n)&&0>["html","body"].indexOf(tu(n));){var r=td(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var tw="bottom",tE="right",t_="left",tk="auto",tT=["top",tw,tE,t_],tR="start",tC="viewport",tO="popper",tS=tT.reduce(function(e,t){return e.concat([t+"-"+tR,t+"-end"])},[]),tL=[].concat(tT,[tk]).reduce(function(e,t){return e.concat([t,t+"-"+tR,t+"-end"])},[]),tA=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],tx={placement:"bottom",modifiers:[],strategy:"absolute"};function tj(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var tN={passive:!0};function tP(e){return e.split("-")[0]}function tD(e){return e.split("-")[1]}function tI(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function tU(e){var t,n=e.reference,r=e.element,i=e.placement,s=i?tP(i):null,o=i?tD(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case"top":t={x:a,y:n.y-r.height};break;case tw:t={x:a,y:n.y+n.height};break;case tE:t={x:n.x+n.width,y:l};break;case t_:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?tI(s):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case tR:t[c]=t[c]-(n[u]/2-r[u]/2);break;case"end":t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var tM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tF(e){var t,n,r,i,s,o,a,l=e.popper,c=e.popperRect,u=e.placement,h=e.variation,f=e.offsets,d=e.position,p=e.gpuAcceleration,m=e.adaptive,g=e.roundOffsets,y=e.isFixed,v=f.x,b=void 0===v?0:v,w=f.y,E=void 0===w?0:w,_="function"==typeof g?g({x:b,y:E}):{x:b,y:E};b=_.x,E=_.y;var k=f.hasOwnProperty("x"),T=f.hasOwnProperty("y"),R=t_,C="top",O=window;if(m){var S=tb(l),L="clientHeight",A="clientWidth";S===e7(l)&&"static"!==td(S=th(l)).position&&"absolute"===d&&(L="scrollHeight",A="scrollWidth"),("top"===u||(u===t_||u===tE)&&"end"===h)&&(C=tw,E-=(y&&S===O&&O.visualViewport?O.visualViewport.height:S[L])-c.height,E*=p?1:-1),(u===t_||("top"===u||u===tw)&&"end"===h)&&(R=tE,b-=(y&&S===O&&O.visualViewport?O.visualViewport.width:S[A])-c.width,b*=p?1:-1)}var x=Object.assign({position:d},m&&tM),j=!0===g?(t={x:b,y:E},n=e7(l),r=t.x,i=t.y,{x:ts(r*(s=n.devicePixelRatio||1))/s||0,y:ts(i*s)/s||0}):{x:b,y:E};return(b=j.x,E=j.y,p)?Object.assign({},x,((a={})[C]=T?"0":"",a[R]=k?"0":"",a.transform=1>=(O.devicePixelRatio||1)?"translate("+b+"px, "+E+"px)":"translate3d("+b+"px, "+E+"px, 0)",a)):Object.assign({},x,((o={})[C]=T?E+"px":"",o[R]=k?b+"px":"",o.transform="",o))}var tB={left:"right",right:"left",bottom:"top",top:"bottom"};function t$(e){return e.replace(/left|right|bottom|top/g,function(e){return tB[e]})}var tq={start:"end",end:"start"};function tH(e){return e.replace(/start|end/g,function(e){return tq[e]})}function tV(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&tn(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tW(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tz(e,t,n){var r,i,s,o,a,l,c,u,h,f;return t===tC?tW(function(e,t){var n=e7(e),r=th(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=ta();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+tf(e),y:l}}(e,n)):te(t)?((r=tl(t,!1,"fixed"===n)).top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r):tW((i=th(e),o=th(i),a=tc(i),l=null==(s=i.ownerDocument)?void 0:s.body,c=tr(o.scrollWidth,o.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=tr(o.scrollHeight,o.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),h=-a.scrollLeft+tf(i),f=-a.scrollTop,"rtl"===td(l||o).direction&&(h+=tr(o.clientWidth,l?l.clientWidth:0)-c),{width:c,height:u,x:h,y:f}))}function tK(){return{top:0,right:0,bottom:0,left:0}}function tG(e){return Object.assign({},tK(),e)}function tJ(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function tY(e,t){void 0===t&&(t={});var n,r,i,s,o,a,l,c,u=t,h=u.placement,f=void 0===h?e.placement:h,d=u.strategy,p=void 0===d?e.strategy:d,m=u.boundary,g=u.rootBoundary,y=u.elementContext,v=void 0===y?tO:y,b=u.altBoundary,w=u.padding,E=void 0===w?0:w,_=tG("number"!=typeof E?E:tJ(E,tT)),k=e.rects.popper,T=e.elements[void 0!==b&&b?v===tO?"reference":tO:v],R=(n=te(T)?T:T.contextElement||th(e.elements.popper),r=void 0===m?"clippingParents":m,i=void 0===g?tC:g,l=(a=[].concat("clippingParents"===r?(s=ty(tg(n)),te(o=["absolute","fixed"].indexOf(td(n).position)>=0&&tt(n)?tb(n):n)?s.filter(function(e){return te(e)&&tV(e,o)&&"body"!==tu(e)}):[]):[].concat(r),[i]))[0],(c=a.reduce(function(e,t){var r=tz(n,t,p);return e.top=tr(r.top,e.top),e.right=ti(r.right,e.right),e.bottom=ti(r.bottom,e.bottom),e.left=tr(r.left,e.left),e},tz(n,l,p))).width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c),C=tl(e.elements.reference),O=tU({reference:C,element:k,strategy:"absolute",placement:f}),S=tW(Object.assign({},k,O)),L=v===tO?S:C,A={top:R.top-L.top+_.top,bottom:L.bottom-R.bottom+_.bottom,left:R.left-L.left+_.left,right:L.right-R.right+_.right},x=e.modifiersData.offset;if(v===tO&&x){var j=x[f];Object.keys(A).forEach(function(e){var t=[tE,tw].indexOf(e)>=0?1:-1,n=["top",tw].indexOf(e)>=0?"y":"x";A[e]+=j[n]*t})}return A}function tX(e,t,n){return tr(e,ti(t,n))}function tZ(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function tQ(e){return["top",tE,tw,t_].some(function(t){return e[t]>=0})}var t0=(l=void 0===(a=(o={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,l=e7(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(e){e.addEventListener("scroll",n.update,tN)}),a&&l.addEventListener("resize",n.update,tN),function(){s&&c.forEach(function(e){e.removeEventListener("scroll",n.update,tN)}),a&&l.removeEventListener("resize",n.update,tN)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=tU({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=n.adaptive,s=n.roundOffsets,o=void 0===s||s,a={placement:tP(t.placement),variation:tD(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,tF(Object.assign({},a,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===i||i,roundOffsets:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,tF(Object.assign({},a,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];tt(i)&&tu(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});tt(r)&&tu(r)&&(Object.assign(r.style,s),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=void 0===i?[0,0]:i,o=tL.reduce(function(e,n){var r,i,o,a,l,c;return e[n]=(r=t.rects,o=[t_,"top"].indexOf(i=tP(n))>=0?-1:1,l=(a="function"==typeof s?s(Object.assign({},r,{placement:n})):s)[0],c=a[1],l=l||0,c=(c||0)*o,[t_,tE].indexOf(i)>=0?{x:c,y:l}:{x:l,y:c}),e},{}),a=o[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,m=n.allowedAutoPlacements,g=t.options.placement,y=tP(g)===g,v=l||(y||!p?[t$(g)]:function(e){if(tP(e)===tk)return[];var t=t$(e);return[tH(e),t,tH(t)]}(g)),b=[g].concat(v).reduce(function(e,n){var r,i,s,o,a,l,f,d,g,y,v,b;return e.concat(tP(n)===tk?(i=(r={placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:p,allowedAutoPlacements:m}).placement,s=r.boundary,o=r.rootBoundary,a=r.padding,l=r.flipVariations,d=void 0===(f=r.allowedAutoPlacements)?tL:f,0===(v=(y=(g=tD(i))?l?tS:tS.filter(function(e){return tD(e)===g}):tT).filter(function(e){return d.indexOf(e)>=0})).length&&(v=y),Object.keys(b=v.reduce(function(e,n){return e[n]=tY(t,{placement:n,boundary:s,rootBoundary:o,padding:a})[tP(n)],e},{})).sort(function(e,t){return b[e]-b[t]})):n)},[]),w=t.rects.reference,E=t.rects.popper,_=new Map,k=!0,T=b[0],R=0;R<b.length;R++){var C=b[R],O=tP(C),S=tD(C)===tR,L=["top",tw].indexOf(O)>=0,A=L?"width":"height",x=tY(t,{placement:C,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),j=L?S?tE:t_:S?tw:"top";w[A]>E[A]&&(j=t$(j));var N=t$(j),P=[];if(s&&P.push(x[O]<=0),a&&P.push(x[j]<=0,x[N]<=0),P.every(function(e){return e})){T=C,k=!1;break}_.set(C,P)}if(k)for(var D=p?3:1,I=function(e){var t=b.find(function(t){var n=_.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return T=t,"break"},U=D;U>0&&"break"!==I(U);U--);t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=n.altAxis,o=n.boundary,a=n.rootBoundary,l=n.altBoundary,c=n.padding,u=n.tether,h=void 0===u||u,f=n.tetherOffset,d=void 0===f?0:f,p=tY(t,{boundary:o,rootBoundary:a,padding:c,altBoundary:l}),m=tP(t.placement),g=tD(t.placement),y=!g,v=tI(m),b="x"===v?"y":"x",w=t.modifiersData.popperOffsets,E=t.rects.reference,_=t.rects.popper,k="function"==typeof d?d(Object.assign({},t.rects,{placement:t.placement})):d,T="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(w){if(void 0===i||i){var O,S="y"===v?"top":t_,L="y"===v?tw:tE,A="y"===v?"height":"width",x=w[v],j=x+p[S],N=x-p[L],P=h?-_[A]/2:0,D=g===tR?E[A]:_[A],I=g===tR?-_[A]:-E[A],U=t.elements.arrow,M=h&&U?tm(U):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:tK(),B=F[S],$=F[L],q=tX(0,E[A],M[A]),H=y?E[A]/2-P-q-B-T.mainAxis:D-q-B-T.mainAxis,V=y?-E[A]/2+P+q+$+T.mainAxis:I+q+$+T.mainAxis,W=t.elements.arrow&&tb(t.elements.arrow),z=W?"y"===v?W.clientTop||0:W.clientLeft||0:0,K=null!=(O=null==R?void 0:R[v])?O:0,G=tX(h?ti(j,x+H-K-z):j,x,h?tr(N,x+V-K):N);w[v]=G,C[v]=G-x}if(void 0!==s&&s){var J,Y,X="x"===v?"top":t_,Z="x"===v?tw:tE,Q=w[b],ee="y"===b?"height":"width",et=Q+p[X],en=Q-p[Z],er=-1!==["top",t_].indexOf(m),ei=null!=(Y=null==R?void 0:R[b])?Y:0,es=er?et:Q-E[ee]-_[ee]-ei+T.altAxis,eo=er?Q+E[ee]+_[ee]-ei-T.altAxis:en,ea=h&&er?(J=tX(es,Q,eo))>eo?eo:J:tX(h?es:et,Q,h?eo:en);w[b]=ea,C[b]=ea-Q}t.modifiersData[r]=C}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,r=e.state,i=e.name,s=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,l=tP(r.placement),c=tI(l),u=[t_,tE].indexOf(l)>=0?"height":"width";if(o&&a){var h=tG("number"!=typeof(t="function"==typeof(t=s.padding)?t(Object.assign({},r.rects,{placement:r.placement})):t)?t:tJ(t,tT)),f=tm(o),d="y"===c?"top":t_,p="y"===c?tw:tE,m=r.rects.reference[u]+r.rects.reference[c]-a[c]-r.rects.popper[u],g=a[c]-r.rects.reference[c],y=tb(o),v=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,b=h[d],w=v-f[u]-h[p],E=v/2-f[u]/2+(m/2-g/2),_=tX(b,E,w);r.modifiersData[i]=((n={})[c]=_,n.centerOffset=_-E,n)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&tV(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=tY(t,{elementContext:"reference"}),a=tY(t,{altBoundary:!0}),l=tZ(o,r),c=tZ(a,i,s),u=tQ(l),h=tQ(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}).defaultModifiers)?[]:a,u=void 0===(c=o.defaultOptions)?tx:c,function(e,t,n){void 0===n&&(n=u);var r,i,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},tx,u),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],a=!1,c={state:s,setOptions:function(n){var r,i,a,f,d,p="function"==typeof n?n(s.options):n;h(),s.options=Object.assign({},u,s.options,p),s.scrollParents={reference:te(e)?ty(e):e.contextElement?ty(e.contextElement):[],popper:ty(t)};var m=(i=Object.keys(r=[].concat(l,s.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return r[e]}),a=new Map,f=new Set,d=[],i.forEach(function(e){a.set(e.name,e)}),i.forEach(function(e){f.has(e.name)||function e(t){f.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!f.has(t)){var n=a.get(t);n&&e(n)}}),d.push(t)}(e)}),tA.reduce(function(e,t){return e.concat(d.filter(function(e){return e.phase===t}))},[]));return s.orderedModifiers=m.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=e.effect;if("function"==typeof r){var i=r({state:s,name:t,instance:c,options:void 0===n?{}:n});o.push(i||function(){})}}),c.update()},forceUpdate:function(){if(!a){var e,t,n,r,i,o,l,u,h,f,d,p,m=s.elements,g=m.reference,y=m.popper;if(tj(g,y)){s.rects={reference:(t=tb(y),n="fixed"===s.options.strategy,r=tt(t),u=tt(t)&&(o=ts((i=t.getBoundingClientRect()).width)/t.offsetWidth||1,l=ts(i.height)/t.offsetHeight||1,1!==o||1!==l),h=th(t),f=tl(g,u,n),d={scrollLeft:0,scrollTop:0},p={x:0,y:0},(r||!r&&!n)&&(("body"!==tu(t)||tp(h))&&(d=(e=t)!==e7(e)&&tt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:tc(e)),tt(t)?(p=tl(t,!0),p.x+=t.clientLeft,p.y+=t.clientTop):h&&(p.x=tf(h))),{x:f.left+d.scrollLeft-p.x,y:f.top+d.scrollTop-p.y,width:f.width,height:f.height}),popper:tm(y)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var v=0;v<s.orderedModifiers.length;v++){if(!0===s.reset){s.reset=!1,v=-1;continue}var b=s.orderedModifiers[v],w=b.fn,E=b.options,_=void 0===E?{}:E,k=b.name;"function"==typeof w&&(s=w({state:s,options:_,name:k,instance:c})||s)}}}},update:(r=function(){return new Promise(function(e){c.forceUpdate(),e(s)})},function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(r())})})),i}),destroy:function(){h(),a=!0}};if(!tj(e,t))return c;function h(){o.forEach(function(e){return e()}),o=[]}return c.setOptions(n).then(function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)}),c}),t1=n(20450),t4=n.n(t1),t2=function(e){return e.reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})},t9="undefined"!=typeof window&&window.document&&window.document.createElement?h.useLayoutEffect:h.useEffect,t5=[],t3=function(e,t,n){void 0===n&&(n={});var r=h.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||t5},s=h.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=s[0],a=s[1],l=h.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);e6.flushSync(function(){a({styles:t2(n.map(function(e){return[e,t.styles[e]||{}]})),attributes:t2(n.map(function(e){return[e,t.attributes[e]]}))})})},requires:["computeStyles"]}},[]),c=h.useMemo(function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[l,{name:"applyStyles",enabled:!1}])};return t4()(r.current,e)?r.current||e:(r.current=e,e)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,l]),u=h.useRef();return t9(function(){u.current&&u.current.setOptions(c)},[c]),t9(function(){if(null!=e&&null!=t){var r=(n.createPopper||t0)(e,t,c);return u.current=r,function(){r.destroy(),u.current=null}}},[e,t,n.createPopper]),{state:u.current?u.current.state:null,styles:o.styles,attributes:o.attributes,update:u.current?u.current.update:null,forceUpdate:u.current?u.current.forceUpdate:null}};function t8(e){var t=h.useRef(e);return t.current=e,h.useCallback(function(){return t.current},[])}var t6=function(){};function t7(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),function(){return{width:0,height:0,top:t,right:e,bottom:t,left:e,x:0,y:0,toJSON:function(){return null}}}}var ne=["styles","attributes"],nt={getBoundingClientRect:t7()},nn={closeOnOutsideClick:!0,closeOnTriggerHidden:!1,defaultVisible:!1,delayHide:0,delayShow:0,followCursor:!1,interactive:!1,mutationObserverOptions:{attributes:!0,childList:!0,subtree:!0},offset:[0,6],trigger:"hover"};let nr=({item:e})=>{var t,n,r,i,s,o,a,l,c,u,f,d,p,m,g,y,v,b,w,E,_,k,T,R,C,O,S,L,A;let{colorMode:x,feedClient:j}=ee(),{t:N}=et(),P=(0,h.useCallback)(t=>{t.preventDefault(),t.stopPropagation(),j.markAsArchived(e)},[e]),{getTooltipProps:D,setTooltipRef:I,setTriggerRef:U,visible:M}=(t={placement:"top-end"},void 0===n&&(n={}),o=Object.keys(nn).reduce(function(e,t){var n;return e8({},e,((n={})[t]=void 0!==e[t]?e[t]:nn[t],n))},t),a=h.useMemo(function(){return[{name:"offset",options:{offset:o.offset}}]},Array.isArray(o.offset)?o.offset:[]),l=e8({},n,{placement:n.placement||o.placement,modifiers:n.modifiers||a}),u=(c=h.useState(null))[0],f=c[1],p=(d=h.useState(null))[0],m=d[1],y=(g=function(e){var t=e.initial,n=e.value,r=e.onChange,i=void 0===r?t6:r;if(void 0===t&&void 0===n)throw TypeError('Either "value" or "initial" variable must be set. Now both are undefined');var s=h.useState(t),o=s[0],a=s[1],l=t8(o),c=h.useCallback(function(e){var t=l(),n="function"==typeof e?e(t):e;"function"==typeof n.persist&&n.persist(),a(n),"function"==typeof i&&i(n)},[l,i]),u=void 0!==n;return[u?n:o,u?i:c]}({initial:o.defaultVisible,value:o.visible,onChange:o.onVisibleChange}))[0],v=g[1],b=h.useRef(),h.useEffect(function(){return function(){return clearTimeout(b.current)}},[]),E=(w=t3(o.followCursor?nt:u,p,l)).styles,_=w.attributes,T=(k=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(w,ne)).update,R=t8({visible:y,triggerRef:u,tooltipRef:p,finalConfig:o}),C=h.useCallback(function(e){return Array.isArray(o.trigger)?o.trigger.includes(e):o.trigger===e},Array.isArray(o.trigger)?o.trigger:[o.trigger]),O=h.useCallback(function(){clearTimeout(b.current),b.current=window.setTimeout(function(){return v(!1)},o.delayHide)},[o.delayHide,v]),S=h.useCallback(function(){clearTimeout(b.current),b.current=window.setTimeout(function(){return v(!0)},o.delayShow)},[o.delayShow,v]),L=h.useCallback(function(){R().visible?O():S()},[R,O,S]),h.useEffect(function(){if(R().finalConfig.closeOnOutsideClick){var e=function(e){var t,n=R(),r=n.tooltipRef,i=n.triggerRef,s=(null==e.composedPath?void 0:null==(t=e.composedPath())?void 0:t[0])||e.target;s instanceof Node&&null!=r&&null!=i&&!r.contains(s)&&!i.contains(s)&&O()};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}},[R,O]),h.useEffect(function(){if(null!=u&&C("click"))return u.addEventListener("click",L),function(){return u.removeEventListener("click",L)}},[u,C,L]),h.useEffect(function(){if(null!=u&&C("double-click"))return u.addEventListener("dblclick",L),function(){return u.removeEventListener("dblclick",L)}},[u,C,L]),h.useEffect(function(){if(null!=u&&C("right-click")){var e=function(e){e.preventDefault(),L()};return u.addEventListener("contextmenu",e),function(){return u.removeEventListener("contextmenu",e)}}},[u,C,L]),h.useEffect(function(){if(null!=u&&C("focus"))return u.addEventListener("focus",S),u.addEventListener("blur",O),function(){u.removeEventListener("focus",S),u.removeEventListener("blur",O)}},[u,C,S,O]),h.useEffect(function(){if(null!=u&&C("hover"))return u.addEventListener("mouseenter",S),u.addEventListener("mouseleave",O),function(){u.removeEventListener("mouseenter",S),u.removeEventListener("mouseleave",O)}},[u,C,S,O]),h.useEffect(function(){if(null!=p&&C("hover")&&R().finalConfig.interactive)return p.addEventListener("mouseenter",S),p.addEventListener("mouseleave",O),function(){p.removeEventListener("mouseenter",S),p.removeEventListener("mouseleave",O)}},[p,C,S,O,R]),A=null==k?void 0:null==(r=k.state)?void 0:null==(i=r.modifiersData)?void 0:null==(s=i.hide)?void 0:s.isReferenceHidden,h.useEffect(function(){o.closeOnTriggerHidden&&A&&O()},[o.closeOnTriggerHidden,O,A]),h.useEffect(function(){if(o.followCursor&&null!=u)return u.addEventListener("mousemove",e),function(){return u.removeEventListener("mousemove",e)};function e(e){var t=e.clientX,n=e.clientY;nt.getBoundingClientRect=t7(t,n),null==T||T()}},[o.followCursor,u,T]),h.useEffect(function(){if(null!=p&&null!=T&&null!=o.mutationObserverOptions){var e=new MutationObserver(T);return e.observe(p,o.mutationObserverOptions),function(){return e.disconnect()}}},[o.mutationObserverOptions,p,T]),e8({getArrowProps:function(e){return void 0===e&&(e={}),e8({},e,_.arrow,{style:e8({},e.style,E.arrow),"data-popper-arrow":!0})},getTooltipProps:function(e){return void 0===e&&(e={}),e8({},e,{style:e8({},e.style,E.popper)},_.popper,{"data-popper-interactive":o.interactive})},setTooltipRef:m,setTriggerRef:f,tooltipRef:p,triggerRef:u,visible:y},k));return h.createElement("button",{ref:U,onClick:P,type:"button","aria-label":N("archiveNotification"),className:`rnf-archive-notification-btn rnf-archive-notification-btn--${x}`},h.createElement(e3,null),M&&h.createElement("div",{ref:I,...D({className:`rnf-tooltip rnf-tooltip--${x}`})},N("archiveNotification")))},ni=({name:e,src:t})=>h.createElement("div",{className:"rnf-avatar"},t?h.createElement("img",{src:t,alt:`Image of ${e}`,className:"rnf-avatar__image"}):h.createElement("span",{className:"rnf-avatar__initials"},function(e){let[t,n]=e.split(" ");return t&&n?`${t.charAt(0)}${n.charAt(0)}`:t?t.charAt(0):""}(e)));function ns(e){e&&""!==e&&setTimeout(()=>window.location.assign(e),200)}h.forwardRef(({item:e,onItemClick:t,onButtonClick:n,avatar:r,children:i,archiveButton:s},o)=>{var a;let{feedClient:l,colorMode:c}=ee(),{locale:u}=et(),f=(0,h.useMemo)(()=>e.blocks.reduce((e,t)=>({...e,[t.name]:t}),{}),[e]),d=null==(a=f.action_url)?void 0:a.rendered,p=f.actions,m=h.useCallback(()=>(l.markAsInteracted(e),t?t(e):ns(d)),[e,d,t,l]),g=h.useCallback((t,r)=>(l.markAsInteracted(e),n?n(e,r):ns(r.action)),[n,l,e]),y=h.useCallback(e=>{"Enter"===e.key&&(e.stopPropagation(),m())},[m]),v=e.actors[0];return h.createElement("div",{ref:o,className:`rnf-notification-cell rnf-notification-cell--${c}`,onClick:m,onKeyDown:y,tabIndex:0},h.createElement("div",{className:"rnf-notification-cell__inner"},!e.read_at&&h.createElement("div",{className:"rnf-notification-cell__unread-dot"}),z(r,v&&"name"in v&&v.name&&h.createElement(ni,{name:v.name,src:v.avatar})),h.createElement("div",{className:"rnf-notification-cell__content-outer"},f.body&&h.createElement("div",{className:"rnf-notification-cell__content",dangerouslySetInnerHTML:{__html:f.body.rendered}}),p&&h.createElement("div",{className:"rnf-notification-cell__button-group"},h.createElement(e9,null,p.buttons.map((e,t)=>h.createElement(e2,{variant:0===t?"primary":"secondary",key:e.name,onClick:t=>g(t,e)},e.label)))),i&&h.createElement("div",{className:"rnf-notification-cell__child-content"},i),h.createElement("span",{className:"rnf-notification-cell__timestamp"},function(e,t={}){try{let n=function(e,t){var n;let r,i;let s=(n=void 0,void 0!==n)?n:2,o=function(e){let t;let n={},r=e.split(_.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],_.timeZoneDelimiter.test(n.date)&&(n.date=e.split(_.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){let e=_.timezone.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(o.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};let i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?i:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,s);r=function(e,t){if(null===t)return new Date(NaN);let n=e.match(k);if(!n)return new Date(NaN);let r=!!n[4],i=C(n[1]),s=C(n[2])-1,o=C(n[3]),a=C(n[4]),l=C(n[5])-1;if(r)return a>=1&&a<=53&&l>=0&&l<=6?function(e,t,n){let r=new Date(0);r.setUTCFullYear(e,0,4);let i=r.getUTCDay()||7;return r.setUTCDate(r.getUTCDate()+((t-1)*7+n+1-i)),r}(t,a,l):new Date(NaN);{let e=new Date(0);return s>=0&&s<=11&&o>=1&&o<=(S[s]||(L(t)?29:28))&&i>=1&&i<=(L(t)?366:365)?(e.setUTCFullYear(t,s,Math.max(i,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);let a=r.getTime(),l=0;if(o.time&&isNaN(l=function(e){let t=e.match(T);if(!t)return NaN;let n=O(t[1]),r=O(t[2]),i=O(t[3]);return(24===n?0===r&&0===i:i>=0&&i<60&&r>=0&&r<60&&n>=0&&n<25)?36e5*n+6e4*r+1e3*i:NaN}(o.time)))return new Date(NaN);if(o.timezone){if(isNaN(i=function(e){if("Z"===e)return 0;let t=e.match(R);if(!t)return 0;let n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return i>=0&&i<=59?n*(36e5*r+6e4*i):NaN}(o.timezone)))return new Date(NaN)}else{let e=new Date(a+l),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(a+l+i)}(e);return function(e,t,n){let r,i=0,s=A(e),o=A(t);if(null==n?void 0:n.unit)"second"===(r=null==n?void 0:n.unit)?i=W(s,o):"minute"===r?i=V(s,o):"hour"===r?i=H(s,o):"day"===r?i=N(s,o):"week"===r?i=F(s,o):"month"===r?i=P(s,o):"quarter"===r?i=I(s,o):"year"===r&&(i=B(s,o));else{let e=W(s,o);60>Math.abs(e)?(i=W(s,o),r="second"):3600>Math.abs(e)?(i=V(s,o),r="minute"):86400>Math.abs(e)&&1>Math.abs(N(s,o))?(i=H(s,o),r="hour"):604800>Math.abs(e)&&(i=N(s,o))&&7>Math.abs(i)?r="day":2629746>Math.abs(e)?(i=F(s,o),r="week"):7889238>Math.abs(e)?(i=P(s,o),r="month"):31556952>Math.abs(e)&&4>I(s,o)?(i=I(s,o),r="quarter"):(i=B(s,o),r="year")}return new Intl.RelativeTimeFormat(null==n?void 0:n.locale,{localeMatcher:null==n?void 0:n.localeMatcher,numeric:(null==n?void 0:n.numeric)||"auto",style:null==n?void 0:n.style}).format(i,r)}(n,new Date,{locale:t.locale})}catch{return e}}(e.inserted_at,{locale:u}))),z(s,h.createElement(nr,{item:e}))))}),E.All,E.Unread,E.Read;let no=({badgeCountType:e="unseen"})=>{let{useFeedStore:t}=ee(),n=t(t=>(function(e,t){switch(e){case"all":return t.total_count;case"unread":return t.unread_count;case"unseen":return t.unseen_count}})(e,t.metadata));return 0!==n?h.createElement("div",{className:"rnf-unseen-badge"},h.createElement("span",{className:"rnf-unseen-badge__count"},n>9?"9+":n)):null};h.forwardRef(({onClick:e,badgeCountType:t},n)=>{let{colorMode:r}=ee();return h.createElement("button",{className:`rnf-notification-icon-button rnf-notification-icon-button--${r}`,role:"button","aria-label":"Open notification feed",ref:n,onClick:e},h.createElement(e5,null),h.createElement(no,{badgeCountType:t}))}),new Intl.Collator}}]);