"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7591],{40054:function(e,r,n){n.d(r,{V:function(){return a}});var t=n(32614);let s=["screens","flows"];function a(){var e;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.nm)(r.platformType)?r.platformType:"mobile",a=(e=r.contentType,s.includes(e))?r.contentType:"screens";return"/library/".concat(n,"/").concat(a)}},38702:function(e,r,n){n.d(r,{f:function(){return s}});var t=n(57437);function s(e){return(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("title",{children:"arrow up right icon"}),(0,t.jsx)("path",{d:"M4.6665 11.3333L11.3332 4.66663",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M4.6665 4.66663H11.3332V11.3333",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}},18488:function(e,r,n){n.r(r),n.d(r,{ChurnkeyRetargetedModal:function(){return o}});var t=n(57437),s=n(2265),a=n(13304);function i(e,r){(0,s.useEffect)(()=>{var n;if(!e||!r)return;let t=document.createComment("");return e.after(t),null==r||null===(n=r.parentNode)||void 0===n||n.insertBefore(e,r.nextSibling),()=>{t.before(e),t.remove()}},[e,r])}function o(e){var r,n,o;let[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null);return i(null===(r=globalThis.document)||void 0===r?void 0:r.getElementsByTagName("ck-widget").item(0),l),i(null===(n=globalThis.document)||void 0===n?void 0:n.getElementsByTagName("ck-pause-wall").item(0),l),i(null===(o=globalThis.document)||void 0===o?void 0:o.getElementsByTagName("ck-failed-payment-wall").item(0),l),(0,t.jsxs)(t.Fragment,{children:[!e.portalContainer&&(0,t.jsx)("div",{ref:u}),(0,t.jsx)(a.fC,{open:e.isModalOpen,children:(0,t.jsx)(a.h_,{container:d,children:(0,t.jsx)(a.VY,{children:(0,t.jsx)("span",{ref:c,className:"hidden"})})})})]})}},65753:function(e,r,n){n.d(r,{fp:function(){return t.ChurnkeyRetargetedModal},iN:function(){return s.useChurnkeyModal},qU:function(){return a.useChurnkeyPauseWall}});var t=n(18488),s=n(31301),a=n(37935)},42285:function(e,r,n){n.d(r,{f:function(){return s}});var t=n(80722);async function s(){for(let e=0;e<5;e++)await new Promise(e=>setTimeout(e,1e3)),await t.Eh.invalidateQueries({queryKey:(0,t.jc)(["stripe_customers","stripe_subscriptions"])})}},31301:function(e,r,n){n.r(r),n.d(r,{useChurnkeyModal:function(){return o}});var t=n(2265),s=n(15102),a=n(57620),i=n(42285);function o(e){let[r,n]=(0,t.useState)(!1),o=(0,a.Pi)(e.workspaceId);return{isModalReady:!!(null==o?void 0:o.churnkey),openModal:(0,t.useCallback)(e=>{r||(null==o||o.churnkey.init("restart",{...o.options,onCancel:t,onDiscount:t,onPause:t,onPlanChange:t,onTrialExtension:t,onClose:()=>n(!1),onError(e){s.Tb({error:e}),n(!1)}}),n(!0));function t(){(0,i.f)(),null==e||e()}},[o,r]),isModalOpen:r}}},37935:function(e,r,n){n.r(r),n.d(r,{useChurnkeyPauseWall:function(){return o}});var t=n(2265),s=n(15102),a=n(57620),i=n(42285);function o(e){let[r,n]=(0,t.useState)(!1),o=(0,a.Pi)(e.workspaceId);return{isModalReady:!!(null==o?void 0:o.churnkey),openModal:(0,t.useCallback)(e=>{r||null==o||o.churnkey.check("pause",{...o.options,softWall:!0,onResume:t,onCancel:t,onPauseWallClose:()=>n(!1),onError(e,r){s.Tb({error:e,type:r}),n(!1)},onPauseWallActivated(){n(!0)}});function t(){(0,i.f)(),null==e||e()}},[o,r]),isModalOpen:r}}},15340:function(e,r,n){n.d(r,{U:function(){return l}});var t=n(89555),s=n(80722),a=n(6398),i=n(65807);async function o(e){if("string"!=typeof e.workspaceId)throw Error("Cannot fetch workspace without workspaceId");return await (0,i.r)(a._m.from("authenticated_user_workspaces").select("\n      *,\n      stripeCustomer:stripe_customers!workspaces_stripeCustomerId_fkey(\n        *,\n        stripeSubscriptions:stripe_subscriptions(*)\n      )\n    ").eq("id",e.workspaceId).single())}function l(e){return(0,t.useQuery)((0,s.jc)(["workspaces","stripe_customers","stripe_subscriptions"],e.workspaceId),()=>o(e),{enabled:"string"==typeof e.workspaceId})}},89766:function(e,r,n){n.r(r),n.d(r,{ImmediateChurnkeyFailedPaymentWall:function(){return f}});var t=n(57437),s=n(2265),a=n(89648),i=n.n(a),o=n(47552),l=n(49385),c=n(65753),d=n(15102),u=n(57620),h=n(42285);function f(){let e=(0,o.$)(),r=(0,s.useMemo)(()=>{var r;return null===(r=e.data)||void 0===r?void 0:r.flatMap(e=>"admin"===e.type&&e.workspace.stripeCustomer&&0!==e.workspace.stripeCustomer.stripeSubscriptions.map(e=>e.stripeObject).filter(l.I7).filter(l.iZ).filter(i()(l.qN)).filter(i()(l.s$)).length?e.workspace:[]).at(0)},[e.data]),n=function(e){let[r,n]=(0,s.useState)(!1),t=(0,u.Pi)(e.workspaceId);return{isModalReady:!!(null==t?void 0:t.churnkey),openModal:(0,s.useCallback)(()=>{r||"string"!=typeof e.workspaceName||null==t||t.churnkey.check("failed-payment",{...t.options,i18n:{messages:{en:{failedPaymentCardPunch:"Update your card to restore access to ".concat(e.workspaceName,".")}}},softWall:!0,onUpdatePaymentInformation:h.f,onFailedPaymentWallClose:()=>{(0,h.f)(),n(!1)},onError(e,r){d.Tb({error:e,type:r}),n(!1)},onFailedPaymentWallActivated(){n(!0)}})},[t,r,e.workspaceName]),isModalOpen:r}}({workspaceId:null==r?void 0:r.id,workspaceName:null==r?void 0:r.name}),a=(0,s.useRef)(new Set);return(0,s.useEffect)(()=>{if(n.isModalReady&&void 0!==(null==r?void 0:r.id)&&"string"==typeof r.name){if(n.isModalOpen)a.current.add(r.id);else{if(a.current.has(r.id))return;n.openModal()}}},[n.isModalReady,n.isModalOpen,n.openModal,r]),(0,t.jsx)(c.fp,{isModalOpen:n.isModalOpen})}},57620:function(e,r,n){n.d(r,{fp:function(){return t.fp},Pi:function(){return s.useChurnkey},iN:function(){return t.iN},qU:function(){return t.qU}});var t=n(65753);n(89766);var s=n(44082)},44082:function(e,r,n){n.r(r),n.d(r,{useChurnkey:function(){return x}});var t=n(2265),s=n(49385),a=n(15340),i=n(95801);let o=i.h.get("NEXT_PUBLIC_CHURNKEY_APP_ID");var l=n(89555),c=n(73360),d=n.n(c),u=n(39671),h=n(80722),f=n(6398);async function p(e){if(!e)throw Error("Fetch churnkey hash called without options.");let r=await d().get("/api/churnkey/verify",{params:e});if("error"in r.data)throw Error(r.data.error.message);return r.data.hash}let m="production"===i.h.get("NEXT_PUBLIC_VERCEL_ENV",!1);function x(e){var r,n;let i=(0,a.U)({workspaceId:e}),c=function(e){let r=function(e){var r;let n=(0,u.lz)(),{user:t}=(0,f.av)(),s=null===(r=n.workspace)||void 0===r?void 0:r.workspaceMembers.find(e=>e.userId===(null==t?void 0:t.id));return(0,l.useQuery)((0,h.jc)(["api_churnkey_verify"],e),()=>p(e),{enabled:!!e&&(null==s?void 0:s.type)==="admin"})}("string"==typeof e?{workspaceId:e}:void 0);return(0,t.useMemo)(()=>{if("string"==typeof r.data)return{authHash:r.data,customerAttributes:{test:!m},appId:o,mode:m?"live":"test",provider:"stripe"}},[r.data])}(e),d=(0,t.useMemo)(()=>{var e,r;let n=null===(r=i.data)||void 0===r?void 0:null===(e=r.stripeCustomer)||void 0===e?void 0:e.stripeSubscriptions;if(!n)return;let t=n.flatMap(e=>!(0,s.I7)(e.stripeObject)||!(0,s.iZ)(e.stripeObject)||(0,s.qN)(e.stripeObject)?[]:[{subscriptionId:e.stripeObject.id,customerId:e.stripeCustomerId}]);if(t.length>1){console.error("More than one active subscription found for your workspace. Please contact support to resolve this issue.");return}return t.at(0)},[null===(n=i.data)||void 0===n?void 0:null===(r=n.stripeCustomer)||void 0===r?void 0:r.stripeSubscriptions]);return(0,t.useMemo)(()=>{var e;if(c&&d&&(null===(e=globalThis.window)||void 0===e?void 0:e.churnkey))return{churnkey:globalThis.window.churnkey,options:{...c,...d}}},[c,d])}},31710:function(e,r,n){n.r(r),n.d(r,{FeedbackModal:function(){return m}});var t=n(57437),s=n(2265),a=n(39343),i=n(75080),o=n.n(i),l=n(36921),c=n(17083),d=n(3393),u=n(42408),h=n(91694),f=n(55091),p=n(14619);function m(){var e;let{isOpen:r,hideModal:n}=(0,p.useFeedbackModal)(),i=(0,a.cI)({mode:"onSubmit"}),[m]=(0,s.useState)(()=>o()()),x=(0,f.g)();async function v(e){try{await x.mutateAsync({message:e.message}),n(),u.mv.toastSuccess("Feedback sent. Thank you!")}catch(e){u.mv.toastError("An error occurred while sending your feedback. Please try again.")}}let j="Send feedback or bug reports",g="Let us know how we can improve Mobbin! If you have a feature request, can you also share how you would use it and why it’s important to you?";return(0,t.jsx)(d.u_,{size:"medium",open:r,onOpenChange:e=>{e||n()},dismissible:!x.isLoading,children:(0,t.jsxs)(d.hz,{title:j,description:g,children:[(0,t.jsx)(d.xB,{children:(0,t.jsx)("h2",{className:"truncate text-center text-body-large-bold",children:j})}),(0,t.jsx)(d.fe,{children:(0,t.jsxs)("form",{id:m,className:"flex flex-col gap-16",onSubmit:i.handleSubmit(v),children:[(0,t.jsx)("p",{className:"text-fg-secondary",children:g}),(0,t.jsx)(c.Q,{helperText:null===(e=i.formState.errors.message)||void 0===e?void 0:e.message,state:i.formState.errors.message?"error":"default",children:(0,t.jsx)(h.K,{autoFocus:!0,placeholder:"E.g. Can you add ABC features? I want to do ABC and it’s important because ...",rows:11,...i.register("message",{required:"This field is required."})})})]})}),(0,t.jsx)(d.mz,{children:(0,t.jsxs)("div",{className:"grow min-720:flex min-720:flex-row min-720:items-center min-720:justify-between",children:[(0,t.jsxs)("span",{className:"hidden text-body-small text-fg-secondary min-720:block",children:["You can also email us at"," ",(0,t.jsx)("a",{href:"mailto:support@mobbin.com?subject=Feedback for Mobbin",className:"text-fg-primary",target:"_blank",rel:"noreferrer",children:"support@mobbin.com"})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch",children:(0,t.jsx)(l.z,{size:"large",form:m,state:x.isLoading?"loading":"default",children:"Send feedback"})})]})})]})})}},14619:function(e,r,n){n.r(r),n.d(r,{useFeedbackModal:function(){return a}});var t=n(50082);let s=(0,t.cn)(!1);function a(){let[e,r]=(0,t.KO)(s);return{isOpen:e,showModal:()=>{r(!0)},hideModal:()=>{r(!1)}}}},17591:function(e,r,n){n.r(r),n.d(r,{GlobalDropdownMenu:function(){return ef}});var t=n(57437),s=n(2265),a=n(67038),i=n(39671),o=n(36921);function l(e){return(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("title",{children:"menu icon"}),(0,t.jsx)("path",{d:"M3.19995 4.80005H12.8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M3.19995 11.2H12.8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}var c=n(79979),d=n(76991),u=n(6398);let h=(0,s.forwardRef)(function(e,r){var n,s,a,h;let{user:f}=(0,u.av)(),p=(0,i.lz)();return null!==f?(0,t.jsx)("button",{ref:r,...e,className:(0,c.A)("hover:opacity-90","focus-visible:ring-4 focus-visible:ring-blue-200/50","transition-colors ease-out"),children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.q,{name:f.user_metadata.full_name,imageUrl:f.user_metadata.avatar_url}),(0,t.jsx)("div",{className:"absolute -bottom-4 -right-4",children:("enterprise"===p.membershipPlan||"team"===p.membershipPlan)&&(0,t.jsx)(d.q,{name:null!==(a=null===(n=p.workspace)||void 0===n?void 0:n.name)&&void 0!==a?a:"",imageUrl:null!==(h=null===(s=p.workspace)||void 0===s?void 0:s.avatarUrl)&&void 0!==h?h:void 0,border:!0,type:"team",size:"xxs"})})]})}):(0,t.jsx)(o.z,{icon:l,variant:"quarternary",ref:r,...e})});var f=n(79219),p=n(85169),m=n(62637),x=n.n(m),v=n(17414);function j(e){return(0,t.jsx)("div",{className:(0,c.A)(e.theme,"relative h-full overflow-hidden bg-bg-tertiary"),children:(0,t.jsxs)("div",{className:"absolute left-8 top-8 grid w-max grid-cols-3 gap-x-[2px] rounded-4 border-[0.5px] border-border-primary bg-bg-primary p-4",children:[(0,t.jsx)("div",{className:"h-32 w-16 rounded-[2px] bg-bg-quarternary"}),(0,t.jsx)("div",{className:"h-32 w-16 rounded-[2px] bg-bg-quarternary"}),(0,t.jsx)("div",{className:"h-32 w-16 rounded-[2px] bg-bg-quarternary"})]})})}let g=(0,s.forwardRef)(function(e,r){let{theme:n,...s}=e,{theme:a,setTheme:i}=(0,p.F)();return(0,t.jsxs)("button",{...s,ref:r,className:(0,c.A)("group flex flex-col items-stretch gap-y-4 rounded-8 text-left","focus-visible:ring-4 focus-visible:ring-blue-200/50"),onClick:e=>{e.preventDefault(),v.aX.track("Theme Changed",{theme:n}),i(n)},children:[(0,t.jsx)("div",{className:(0,c.A)("system"===n?"grid grid-cols-2":"".concat(n),"relative h-40 overflow-hidden rounded-8","after:absolute after:inset-0 after:rounded-8",a===n&&"after:ring-2 after:ring-inset after:ring-blue-200"),children:"system"===n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{theme:"light"}),(0,t.jsx)(j,{theme:"dark"})]}):(0,t.jsx)(j,{theme:n})}),(0,t.jsx)("span",{className:"text-body-small-bold text-fg-secondary",children:x()(n)})]})});function C(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Qk,{children:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-x-8 px-8 pt-8",children:[(0,t.jsx)(f.Xi,{asChild:!0,children:(0,t.jsx)(g,{theme:"light"})}),(0,t.jsx)(f.Xi,{asChild:!0,children:(0,t.jsx)(g,{theme:"dark"})}),(0,t.jsx)(f.Xi,{asChild:!0,children:(0,t.jsx)(g,{theme:"system"})})]})}),(0,t.jsx)(a.VD,{})]})}function k(e){return(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 22 20",fill:"currentColor","aria-label":"X formerly known as Twitter",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("title",{children:"X icon"}),(0,t.jsx)("path",{d:"M16.99 0H20.298L13.071 8.26L21.573 19.5H14.916L9.702 12.683L3.736 19.5H0.426L8.156 10.665L0 0H6.826L11.539 6.231L16.99 0ZM15.829 17.52H17.662L5.83 1.876H3.863L15.829 17.52Z"})]})}var b=n(87138);function w(e){return(0,t.jsx)(f.ck,{asChild:!0,children:(0,t.jsx)(b.default,{href:e.href,shallow:!0,className:(0,c.A)("text-body-tiny-bold underline-offset-[3.5px] focus:underline","text-fg-secondary focus:text-fg-primary","transition-colors ease-out"),children:e.children})})}function y(){return(0,t.jsx)(a.Qk,{children:(0,t.jsxs)("div",{className:"flex h-36 flex-row items-center justify-between px-8",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-8",children:[(0,t.jsx)(w,{href:"/privacy",children:"Privacy"}),(0,t.jsx)(w,{href:"/terms",children:"Terms"}),(0,t.jsx)(w,{href:"/copyright",children:"Copyright"})]}),(0,t.jsx)(f.ck,{asChild:!0,children:(0,t.jsx)("a",{href:"https://twitter.com/mobbindesign",target:"_blank",rel:"noreferrer",className:"group",children:(0,t.jsx)(k,{className:(0,c.A)("fill-fg-secondary focus:fill-fg-primary group-focus:fill-fg-primary","transition-colors ease-out")})})})]})})}var _=n(37867);function M(){let e=(0,i.lz)(),{user:r}=(0,u.av)();return null===r?null:(0,t.jsx)(a.Qk,{children:(0,t.jsxs)("div",{className:"flex flex-col px-8 pt-8",children:["personal"===e.membershipPlan&&(0,t.jsx)("div",{className:"mb-12",children:(0,t.jsx)(_.Z,{})}),(0,t.jsx)("div",{className:"truncate text-body-medium-bold",children:r.user_metadata.full_name}),(0,t.jsx)("div",{className:"truncate text-body-small text-fg-secondary",children:r.email})]})})}var N=n(60229),L=n.n(N),P=n(98346),S=n(75951);function R(){var e;let r=(0,S._)(),n=(0,i.lz)(),[o,l]=(0,s.useState)(),{user:c}=(0,u.av)(),h=(0,s.useMemo)(()=>L()(r.data,e=>e.createdAt).find(e=>"personal"===e.plan||"none"===e.plan),[r.data]);return((0,s.useEffect)(()=>{var e;"string"==typeof o&&o===(null===(e=n.workspace)||void 0===e?void 0:e.id)&&l(void 0)},[null===(e=n.workspace)||void 0===e?void 0:e.id,o,r.data]),void 0===r.data||void 0===n.workspace||1===r.data.length)?null:(0,t.jsx)(a.Qk,{children:r.data.map(e=>{var r;return(0,t.jsx)(a.Xi,{icon:()=>{var r;return(0,t.jsx)(d.q,{size:"xs",name:e.name,imageUrl:null!==(r=(null==h?void 0:h.id)===e.id?null==c?void 0:c.user_metadata.avatar_url:e.avatarUrl)&&void 0!==r?r:void 0})},state:"string"==typeof o?"loading":"default",onSelect:r=>{n.setWorkspaceId(e.id),l(e.id),r.preventDefault()},auxilliaryIcon:(null===(r=n.workspace)||void 0===r?void 0:r.id)===e.id?()=>(0,t.jsx)(P.n,{className:"h-20 w-20"}):void 0,children:(null==h?void 0:h.id)===e.id?null==c?void 0:c.user_metadata.full_name:e.name},e.id)})})}var E=n(62557),B=n(57620);n(31710);var I=n(14619);let T=(0,s.createContext)({closeMenu(){throw Error("AppSettingsDropdownContext is not provided.")}});function H(){var e;let{closeMenu:r}=(0,s.useContext)(T),n=(0,i.lz)(),a=(0,I.useFeedbackModal)();switch(n.membershipPlan){case"none":case void 0:return null}switch(null===(e=n.subscriptionState)||void 0===e?void 0:e.status){case"no_seat":case"not_started":case"paused":case"canceled":case void 0:return null}return(0,t.jsx)(f.ck,{asChild:!0,children:(0,t.jsx)(o.z,{variant:"tertiary",onClick:e=>{e.preventDefault(),a.showModal(),r()},children:"Give feedback"})})}var F=n(16463),z=n(93055);function O(){let{closeMenu:e}=(0,s.useContext)(T),r=(0,E._C)(),n=(0,z.dU)(),a=(0,F.useRouter)();return(0,t.jsx)(f.ck,{asChild:!0,children:(0,t.jsx)(o.z,{variant:"primary",onClick:()=>{r<720?a.push("/pricing"):n.showModal(),e()},children:"Get Pro"})})}function A(){let e=(0,F.usePathname)();return(0,t.jsx)(f.ck,{asChild:!0,children:(0,t.jsx)(b.default,{href:{pathname:"/login",query:{redirect_to:e}},passHref:!0,shallow:!0,legacyBehavior:!0,children:(0,t.jsx)(o.Q,{variant:"secondary",children:"Log in"})})})}var V=n(67943),W=n(72198);function U(){let e=(0,i.lz)(),r=(0,W.m)();switch(e.membershipPlan){case"enterprise":case"team":case"personal":var n;switch(null===(n=e.subscriptionState)||void 0===n?void 0:n.status){case"active":case"will_cancel":case"will_pause":break;case"no_seat":case"not_started":case"paused":case"canceled":case void 0:return null}break;case"none":case void 0:return null}return!0!==r.canShowReferralMemberReferrerModal?null:(0,t.jsx)(f.ck,{asChild:!0,children:(0,t.jsx)(o.z,{icon:V.O,variant:"primary",onClick:()=>{v.aX.track("Referral Dialog Button Clicked",void 0),r.showModal()},children:"Refer friends"})})}var X=n(60858),q=n(20254);function Q(){let{closeMenu:e}=(0,s.useContext)(T),r=(0,X.t)(),n=(0,X.v)(),a=(0,q.Mv)();return(0,t.jsx)(f.ck,{asChild:!0,children:(0,t.jsx)(o.z,{variant:"secondary",onClick:t=>{t.preventDefault(),a.showModal({initialPlatform:r,initialContentCategory:(()=>{switch(n){case"apps":return"App";case"screens":return"Screen Pattern";case"flows":return"Flow Pattern";default:return}})(),location:"app_menu_dropdown"}),e()},children:"Request content"})})}function D(e){return(0,t.jsx)(f.ck,{asChild:!0,children:(0,t.jsx)(o.z,{variant:"primary",onClick:()=>e.churnkeyPauseWall.openModal(),state:e.churnkeyPauseWall.isModalOpen?"loading":"default",children:"Resume subscription"})})}function Z(){let e=(0,F.usePathname)();return(0,t.jsx)(f.ck,{asChild:!0,children:(0,t.jsx)(b.default,{href:{pathname:"/signup",query:{redirect_to:e}},passHref:!0,shallow:!0,legacyBehavior:!0,children:(0,t.jsx)(o.Q,{onClick:()=>{v.aX.track("Signup Page Navigation Triggered",{intent:"signup",location:"navbar_app_menu"})},children:"Create free account"})})})}function K(){let e=(0,i.lz)(),r=(0,E._C)(),n=function(){var e;let r=(0,i.lz)();return(0,B.qU)({workspaceId:"personal"===r.membershipPlan?null===(e=r.workspace)||void 0===e?void 0:e.id:void 0})}(),o=function(e){var r,n;let t=(0,i.lz)(),a=(0,W.m)();return(0,s.useMemo)(()=>{var r,n,s,i;if(!t.workspace)return[];let o=[];return"none"===t.membershipPlan&&o.push("UPGRADE_TO_PRO"),(null===(r=t.subscriptionState)||void 0===r?void 0:r.status)==="paused"&&!0===e.isModalReady&&o.push("RESUME_SUBSCRIPTION"),o.push("REQUEST_CONTENT"),("enterprise"===t.membershipPlan||"team"===t.membershipPlan||"personal"===t.membershipPlan)&&(null===(n=t.subscriptionState)||void 0===n?void 0:n.status)==="active"&&(null===(s=t.subscriptionState)||void 0===s?void 0:s.trialState)===void 0&&o.push("FEEDBACK"),"personal"===t.membershipPlan&&(null===(i=t.subscriptionState)||void 0===i?void 0:i.status)==="active"&&!0===a.canShowReferralMemberReferrerModal&&o.push("REFER_FRIENDS"),o},[t.membershipPlan,null===(r=t.subscriptionState)||void 0===r?void 0:r.status,null===(n=t.subscriptionState)||void 0===n?void 0:n.trialState,t.workspace,e.isModalReady,a.canShowReferralMemberReferrerModal])}(n),l=r<1024,c=!!e.workspace;return l&&c?(0,t.jsx)(a.Qk,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch gap-8 px-4 pb-8",children:[o.includes("UPGRADE_TO_PRO")&&(0,t.jsx)(O,{}),o.includes("RESUME_SUBSCRIPTION")&&(0,t.jsx)(D,{churnkeyPauseWall:n}),o.includes("REQUEST_CONTENT")&&(0,t.jsx)(Q,{}),o.includes("FEEDBACK")&&(0,t.jsx)(H,{}),(0,t.jsx)(B.fp,{isModalOpen:n.isModalOpen})]})}):l&&!c?(0,t.jsx)(a.Qk,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch gap-8 px-4 pb-8 pt-4",children:[(0,t.jsx)(Z,{}),(0,t.jsx)(A,{})]})}):!l&&c?(0,t.jsx)(a.Qk,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-8 px-4 pb-8",children:[(0,t.jsx)(U,{}),(0,t.jsx)(Q,{}),(0,t.jsx)(H,{})]})}):null}function G(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M,{}),(0,t.jsx)(K,{}),(0,t.jsx)(R,{}),(0,t.jsx)(a.VD,{})]})}function $(e){return(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("title",{children:"bookmark icon"}),(0,t.jsx)("path",{d:"M12.6667 14L8.00004 10.6667L3.33337 14V3.33333C3.33337 2.97971 3.47385 2.64057 3.7239 2.39052C3.97395 2.14048 4.31309 2 4.66671 2H11.3334C11.687 2 12.0261 2.14048 12.2762 2.39052C12.5262 2.64057 12.6667 2.97971 12.6667 3.33333V14Z",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}var Y=n(7234),J=n(40054);function ee(){let{closeMenu:e}=(0,s.useContext)(T),r=(0,Y.iF)(),n=(0,i.lz)();return(0,t.jsx)(b.default,{href:(0,J.V)(),passHref:!0,shallow:!0,legacyBehavior:!0,scroll:!1,children:(0,t.jsx)(a.Xi,{icon:$,onClick:e,auxilliaryText:"number"==typeof r.data?"".concat(r.data):void 0,state:n.workspace&&(r.isLoading||"number"!=typeof r.data)?"loading":"default",children:"Saved"})})}function er(e){return(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("path",{d:"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M12.9333 9.99996C12.8445 10.201 12.8181 10.4241 12.8573 10.6404C12.8965 10.8566 12.9996 11.0562 13.1533 11.2133L13.1933 11.2533C13.3173 11.3771 13.4156 11.5242 13.4827 11.686C13.5498 11.8479 13.5843 12.0214 13.5843 12.1966C13.5843 12.3718 13.5498 12.5453 13.4827 12.7072C13.4156 12.8691 13.3173 13.0161 13.1933 13.14C13.0695 13.2639 12.9224 13.3623 12.7605 13.4294C12.5987 13.4965 12.4252 13.531 12.25 13.531C12.0747 13.531 11.9012 13.4965 11.7394 13.4294C11.5775 13.3623 11.4305 13.2639 11.3066 13.14L11.2666 13.1C11.1095 12.9463 10.9099 12.8432 10.6937 12.804C10.4774 12.7647 10.2544 12.7912 10.0533 12.88C9.85611 12.9645 9.68795 13.1048 9.5695 13.2836C9.45105 13.4625 9.38748 13.6721 9.38663 13.8866V14C9.38663 14.3536 9.24615 14.6927 8.9961 14.9428C8.74605 15.1928 8.40691 15.3333 8.05329 15.3333C7.69967 15.3333 7.36053 15.1928 7.11048 14.9428C6.86044 14.6927 6.71996 14.3536 6.71996 14V13.94C6.7148 13.7193 6.64337 13.5053 6.51497 13.3258C6.38656 13.1462 6.20712 13.0095 5.99996 12.9333C5.79888 12.8445 5.57583 12.8181 5.35957 12.8573C5.1433 12.8965 4.94375 12.9996 4.78663 13.1533L4.74663 13.1933C4.6228 13.3173 4.47574 13.4156 4.31388 13.4827C4.15202 13.5498 3.97851 13.5843 3.80329 13.5843C3.62807 13.5843 3.45457 13.5498 3.29271 13.4827C3.13084 13.4156 2.98379 13.3173 2.85996 13.1933C2.73599 13.0695 2.63765 12.9224 2.57055 12.7605C2.50345 12.5987 2.46891 12.4252 2.46891 12.25C2.46891 12.0747 2.50345 11.9012 2.57055 11.7394C2.63765 11.5775 2.73599 11.4305 2.85996 11.3066L2.89996 11.2666C3.05365 11.1095 3.15675 10.9099 3.19596 10.6937C3.23517 10.4774 3.2087 10.2544 3.11996 10.0533C3.03545 9.85611 2.89513 9.68795 2.71627 9.5695C2.53741 9.45105 2.32782 9.38748 2.11329 9.38663H1.99996C1.64634 9.38663 1.3072 9.24615 1.05715 8.9961C0.807102 8.74605 0.666626 8.40691 0.666626 8.05329C0.666626 7.69967 0.807102 7.36053 1.05715 7.11048C1.3072 6.86044 1.64634 6.71996 1.99996 6.71996H2.05996C2.28062 6.7148 2.49463 6.64337 2.67416 6.51497C2.85369 6.38656 2.99044 6.20712 3.06663 5.99996C3.15537 5.79888 3.18184 5.57583 3.14263 5.35957C3.10342 5.1433 3.00032 4.94375 2.84663 4.78663L2.80663 4.74663C2.68266 4.6228 2.58431 4.47574 2.51721 4.31388C2.45011 4.15202 2.41558 3.97851 2.41558 3.80329C2.41558 3.62807 2.45011 3.45457 2.51721 3.29271C2.58431 3.13084 2.68266 2.98379 2.80663 2.85996C2.93046 2.73599 3.07751 2.63765 3.23937 2.57055C3.40124 2.50345 3.57474 2.46891 3.74996 2.46891C3.92518 2.46891 4.09868 2.50345 4.26055 2.57055C4.42241 2.63765 4.56946 2.73599 4.69329 2.85996L4.73329 2.89996C4.89041 3.05365 5.08997 3.15675 5.30623 3.19596C5.5225 3.23517 5.74555 3.2087 5.94663 3.11996H5.99996C6.19714 3.03545 6.3653 2.89513 6.48375 2.71627C6.60221 2.53741 6.66577 2.32782 6.66663 2.11329V1.99996C6.66663 1.64634 6.8071 1.3072 7.05715 1.05715C7.3072 0.807102 7.64634 0.666626 7.99996 0.666626C8.35358 0.666626 8.69272 0.807102 8.94277 1.05715C9.19282 1.3072 9.33329 1.64634 9.33329 1.99996V2.05996C9.33415 2.27448 9.39771 2.48408 9.51616 2.66294C9.63461 2.8418 9.80278 2.98212 9.99996 3.06663C10.201 3.15537 10.4241 3.18184 10.6404 3.14263C10.8566 3.10342 11.0562 3.00032 11.2133 2.84663L11.2533 2.80663C11.3771 2.68266 11.5242 2.58431 11.686 2.51721C11.8479 2.45011 12.0214 2.41558 12.1966 2.41558C12.3718 2.41558 12.5453 2.45011 12.7072 2.51721C12.8691 2.58431 13.0161 2.68266 13.14 2.80663C13.2639 2.93046 13.3623 3.07751 13.4294 3.23937C13.4965 3.40124 13.531 3.57474 13.531 3.74996C13.531 3.92518 13.4965 4.09868 13.4294 4.26055C13.3623 4.42241 13.2639 4.56946 13.14 4.69329L13.1 4.73329C12.9463 4.89041 12.8432 5.08997 12.804 5.30623C12.7647 5.5225 12.7912 5.74555 12.88 5.94663V5.99996C12.9645 6.19714 13.1048 6.3653 13.2836 6.48375C13.4625 6.60221 13.6721 6.66577 13.8866 6.66663H14C14.3536 6.66663 14.6927 6.8071 14.9428 7.05715C15.1928 7.3072 15.3333 7.64634 15.3333 7.99996C15.3333 8.35358 15.1928 8.69272 14.9428 8.94277C14.6927 9.19282 14.3536 9.33329 14 9.33329H13.94C13.7254 9.33415 13.5158 9.39771 13.337 9.51616C13.1581 9.63461 13.0178 9.80278 12.9333 9.99996Z",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function en(){let e=(0,Y.iF)();return(0,i.lz)().workspace?(0,t.jsx)(b.default,{href:"/settings/account",passHref:!0,shallow:!0,legacyBehavior:!0,children:(0,t.jsx)(a.Xi,{icon:er,state:!0===e.isLoading||"number"!=typeof e.data?"loading":"default",children:"Settings"})}):null}function et(){let e=(0,E._C)();return(0,i.lz)().workspace?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Qk,{children:[e<1024&&(0,t.jsx)(ee,{}),(0,t.jsx)(en,{})]}),(0,t.jsx)(a.VD,{})]}):null}var es=n(42408),ea=n(38702),ei=n(89555),eo=n(91672);n(74590);var el=(0,n(58064).$)("0b0302f6cec44de57505bf57f59947820715762a"),ec=n(80722);function ed(){var e;let r=(0,ei.useQueryClient)(),n=(0,eo.i0)(),s=(0,F.useRouter)();return(null===(e=n.data)||void 0===e?void 0:e.isCurator)!==!0?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.default,{href:"/curator",passHref:!0,shallow:!0,legacyBehavior:!0,children:(0,t.jsx)(a.Xi,{link:!0,children:"Curator tool"})}),(0,t.jsx)(a.Xi,{onSelect:async()=>{var e;(null===(e=n.data)||void 0===e?void 0:e.isCurator)===!0&&(await el(),await r.invalidateQueries((0,ec.jc)(["content_curator"])),s.refresh())},auxilliaryIcon:!0===n.data.isCuratorMode?P.n:void 0,children:"Curator mode"})]})}function eu(){let{user:e}=(0,u.av)(),r=(0,F.useRouter)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Qk,{children:[(0,t.jsx)(ed,{}),(0,t.jsx)(b.default,{href:"/pricing",passHref:!0,shallow:!0,legacyBehavior:!0,children:(0,t.jsx)(a.Xi,{link:!0,children:"Pricing"})}),(0,t.jsx)(b.default,{href:"/changelog",passHref:!0,shallow:!0,legacyBehavior:!0,children:(0,t.jsx)(a.Xi,{link:!0,children:"Changelog"})}),(0,t.jsx)(b.default,{href:"/blog",passHref:!0,shallow:!0,legacyBehavior:!0,children:(0,t.jsx)(a.Xi,{link:!0,children:"Blog"})}),(0,t.jsx)(b.default,{href:"https://careers.mobbin.com/",passHref:!0,shallow:!0,legacyBehavior:!0,children:(0,t.jsx)(a.Xi,{link:!0,auxilliaryIcon:ea.f,target:"_blank",rel:"noreferrer",children:"Careers"})}),(0,t.jsx)(b.default,{href:"https://help.mobbin.com/",passHref:!0,shallow:!0,legacyBehavior:!0,children:(0,t.jsx)(a.Xi,{link:!0,auxilliaryIcon:ea.f,target:"_blank",rel:"noreferrer",children:"Support"})}),null!==e&&(0,t.jsx)(a.Xi,{onSelect:()=>{u._m.auth.signOut().catch(es.mv.toastError).finally(()=>r.refresh())},children:"Log out"})]}),(0,t.jsx)(a.VD,{})]})}function eh(){return(0,t.jsxs)("div",{className:"max-h-[--radix-dropdown-menu-content-available-height] overflow-y-auto",children:[(0,t.jsx)(G,{}),(0,t.jsx)(et,{}),(0,t.jsx)(C,{}),(0,t.jsx)(eu,{}),(0,t.jsx)(y,{})]})}function ef(){let[e,r]=(0,s.useState)(!1),n=(0,s.useCallback)(()=>r(!1),[]);return(0,t.jsx)(T.Provider,{value:{closeMenu:n},children:(0,t.jsxs)(a.h_,{open:e,onOpenChange:r,children:[(0,t.jsx)(a.$F,{children:(0,t.jsx)(h,{})}),(0,t.jsx)(a.AW,{side:"bottom",align:"end",width:240,sideOffset:16,children:(0,t.jsx)(eh,{})})]})})}},55091:function(e,r,n){n.d(r,{g:function(){return o}});var t=n(89555),s=n(73360),a=n.n(s);async function i(e){let r=await a().post("/api/mail/support/send-support-mail",e);if("error"in r.data)throw Error(r.data.error.message);return r.data}function o(){return(0,t.useMutation)(i)}},493:function(e,r,n){n.r(r),n.d(r,{ReferralMemberReferrerModal:function(){return h}});var t=n(57437),s=n(36921),a=n(3393),i=n(42408),o=n(46273),l=n(17414),c=n(15053);function d(){return(0,t.jsxs)("svg",{width:"89",height:"89",viewBox:"0 0 89 89",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_32_5661)",children:[(0,t.jsx)("path",{d:"M73.4811 44.6152V81.2819H14.8145V44.6152",stroke:"#F1A23B",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M80.8158 26.2812H7.48242V44.6146H80.8158V26.2812Z",stroke:"#F1A23B",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M44.1484 44.616V25.916",stroke:"#F1A23B",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M44.1491 26.2826H27.6491C25.2179 26.2826 22.8864 25.3168 21.1673 23.5977C19.4482 21.8786 18.4824 19.547 18.4824 17.1159C18.4824 14.6847 19.4482 12.3532 21.1673 10.6341C22.8864 8.91499 25.2179 7.94922 27.6491 7.94922C40.4824 7.94922 44.1491 26.2826 44.1491 26.2826Z",stroke:"#F1A23B",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M44.1484 26.2826H60.6484C63.0796 26.2826 65.4112 25.3168 67.1303 23.5977C68.8493 21.8786 69.8151 19.547 69.8151 17.1159C69.8151 14.6847 68.8493 12.3532 67.1303 10.6341C65.4112 8.91499 63.0796 7.94922 60.6484 7.94922C47.8151 7.94922 44.1484 26.2826 44.1484 26.2826Z",stroke:"#F1A23B",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsxs)("g",{clipPath:"url(#clip1_32_5661)",children:[(0,t.jsx)("path",{d:"M62.1487 61.9512H53.1719V71.4647H62.1487V61.9512Z",fill:"#F1A23B"}),(0,t.jsx)("path",{d:"M26.1484 71.4654V63.0838L35.0829 53.6152H42.9916V61.9968L34.0572 71.4654H26.1484Z",fill:"#F1A23B"}),(0,t.jsx)("path",{d:"M39.6602 71.4654V63.0838L48.5946 53.6152H56.5034V61.9968L47.5689 71.4654H39.6602Z",fill:"#F1A23B"})]})]}),(0,t.jsxs)("defs",{children:[(0,t.jsx)("clipPath",{id:"clip0_32_5661",children:(0,t.jsx)("rect",{width:"88",height:"88",fill:"white",transform:"translate(0.148438 0.615234)"})}),(0,t.jsx)("clipPath",{id:"clip1_32_5661",children:(0,t.jsx)("rect",{width:"36",height:"18",fill:"white",transform:"translate(26.1484 53.6152)"})})]})]})}var u=n(98873);function h(){let e=(0,u.useReferralMemberReferrerModal)();if(void 0===e.personalWorkspaceId)return null;let r=(0,c.wt)("/?referrer_workspace_id=".concat(e.personalWorkspaceId));function n(){l.aX.track("Referral Link Copied",void 0),navigator.clipboard.writeText(r),i.mv.toastSuccess("Link copied to clipboard!")}let h="Refer your friends";return(0,t.jsx)(a.u_,{size:"medium",open:e.isReferralMemberReferrerModalVisible,onOpenChange:r=>{r||e.hideModal()},children:(0,t.jsxs)(a.hz,{title:h,children:[(0,t.jsx)(a.xB,{children:(0,t.jsx)("h2",{className:"truncate text-center text-body-large-bold",children:h})}),(0,t.jsx)(a.fe,{children:(0,t.jsx)("div",{className:"flex flex-col gap-24",children:(0,t.jsxs)("div",{className:"flex flex-col gap-16",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-16",children:[(0,t.jsx)(d,{}),(0,t.jsx)("h1",{className:"text-heading-small",children:"Give 20% off, get $10"})]}),(0,t.jsxs)("p",{className:"text-fg-secondary",children:["Share the referral link below to give your friends"," ",(0,t.jsx)("span",{className:"text-fg-primary",children:"20% off their first billing cycle"})," of our Pro plan."]}),(0,t.jsxs)("p",{className:"text-fg-secondary",children:["You will also ",(0,t.jsx)("span",{className:"text-fg-primary",children:"receive a $10 credit"})," of Mobbin for each friend who becomes a member."," ",(0,t.jsx)("span",{children:(0,t.jsx)("a",{href:"https://help.mobbin.com/article/190-mobbin-referral-program-beta-terms-and-conditions",target:"_blank",rel:"noopener noreferrer",className:"text-fg-primary underline",children:"Terms and conditions apply."})})]})]})})}),(0,t.jsx)(a.mz,{children:(0,t.jsxs)("div",{className:"flex flex-row gap-x-16",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(o.n,{size:"large",value:r,readOnly:!0,onClick:n})}),(0,t.jsx)(s.z,{size:"large",onClick:n,children:"Copy link"})]})})]})})}},72198:function(e,r,n){n.d(r,{m:function(){return t.useReferralMemberReferrerModal}}),n(493);var t=n(98873)},98873:function(e,r,n){n.r(r),n.d(r,{useReferralMemberReferrerModal:function(){return i}});var t=n(50082),s=n(39671);let a=(0,t.cn)(!1);function i(){let e,r;let n=(0,s.lz)();switch(n.membershipPlan){case"personal":var i,o;switch(null===(i=n.subscriptionState)||void 0===i?void 0:i.status){case"active":case"will_pause":case"will_cancel":e=void 0!==(r=null===(o=n.workspace)||void 0===o?void 0:o.id);break;case"no_seat":case"not_started":case"paused":case"canceled":case void 0:e=!1}break;case"enterprise":case"team":case"none":case void 0:e=!1}let[l,c]=(0,t.KO)(a);return{canShowReferralMemberReferrerModal:e,personalWorkspaceId:r,isReferralMemberReferrerModalVisible:l,showModal:()=>c(!0),hideModal:()=>c(!1)}}},75951:function(e,r,n){n.d(r,{_:function(){return f}});var t=n(89555),s=n(15102),a=n(60229),i=n.n(a),o=n(8322),l=n(80722),c=n(49385),d=n(6398),u=n(65807);async function h(e){if(!e)throw new o.Q;let r=(await (0,u.r)(d._m.from("authenticated_user_workspaces").select("\n          *,\n          stripeCustomer:stripe_customers!workspaces_stripeCustomerId_fkey(\n            stripeSubscriptions:stripe_subscriptions(*)\n          )\n      "))).map(e=>{try{var r,n;return{...e,plan:(0,c.t6)(null!==(n=null===(r=e.stripeCustomer)||void 0===r?void 0:r.stripeSubscriptions.map(e=>{let{stripeObject:r}=e;return r}).filter(c.I7))&&void 0!==n?n:[])}}catch(e){return(0,s.Tb)(e),null}}).filter(e=>null!==e).map(r=>{var n;return"personal"===r.plan?{...r,name:null!==(n=e.user_metadata.full_name)&&void 0!==n?n:"Personal"}:r});return i()(r,[e=>{let{plan:r}=e;return["enterprise","team","personal","none"].indexOf(r)},e=>{let{name:r}=e;return r}])}function f(e){let{user:r}=(0,d.av)();return(0,t.useQuery)((0,l.jc)(["workspaces"],r),()=>h(r),{...e,enabled:!!r&&(null==e?void 0:e.enabled)})}}}]);